// SPDX-License-Identifier: MIT-BROUGKR
/*@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@
@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@
@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@
@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@
@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@
@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@
@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@
@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@
@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@
@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@
@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@
@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@
@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@
@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@                    @@@@@@@@@@@@@@@@@@@@@@@@@@@@@@
@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@                             @@@@@@@@@@@@@@@@@@@@@@@@@@@@@@
@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@                                    @@@@@@@@@@@@@@@@@@@@@@@@@@@@@@
@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@                                         @@@@@@@@@@@@@@@@@@@@@@@@@@@@@@
@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@                                             @@@@@@@@@@@@@@@@@@@@@@@@@@@@@@
@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@                                                @@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@
@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@                                                    @@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@
@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@                                                      @@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@
@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@                                                         @@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@
@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@                                                           @@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@
@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@ @@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@                      @@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@
@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@    @@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@                     @@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@
@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@      @@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@                    @@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@
@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@        @@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@                   @@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@
@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@          @@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@                  @@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@
@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@           @@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@                 @@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@
@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@             @@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@                @@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@
@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@              @@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@              @@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@
@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@                @@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@             @@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@
@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@                 @@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@           @@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@
@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@                  @@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@         @@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@
@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@                   @@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@        @@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@
@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@                    @@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@      @@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@
@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@                     @@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@   @@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@
@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@                      @@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@ @@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@
@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@                                                           @@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@
@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@                                                         @@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@
@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@                                                      @@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@
@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@                                                    @@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@
@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@                                                @@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@
@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@                                             @@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@
@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@                                        @@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@
@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@                                   @@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@
@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@                             @@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@
@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@                    @@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@
@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@
@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@
@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@
@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@
@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@
@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@
@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@
@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@
@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@
@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@
@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@
@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@*/
/**
 * @dev: @brougkr
 */
pragma solidity 0.8.17;
import "./Ownable.sol";
import "./ReentrancyGuard.sol";
import "./MerkleProof.sol";
contract PaidWaitlist is Ownable, ReentrancyGuard
{
    struct Info
    {
        uint _TimesJoined;
        uint _TotalETHContributed;
        uint _WaitlistPrice;
        bool _IsActive;
    }

    mapping(uint => address[]) public Waitlist;
    mapping(uint => bool) public OrderRefundsDistributed;
    mapping(uint => bool) public WaitlistActive;
    mapping(uint => mapping(uint => bool)) public WinningEntries;
    mapping(uint => bool) public WinningIndexesSeeded;
    mapping(uint => uint) public MessageValues;
    mapping(uint => uint) public Amounts;
    mapping(uint => bytes32) public Roots;
    mapping(uint => uint) public WaitlistPrice;
    mapping(uint => mapping(address => bool)) public _WaitlistJoined;
    mapping(address=>bool) public Dutch;
    event NewCity(string Name, address ContractAddress, uint StartingTokenID, uint EndingTokenID, bool Active);
    event WaitlistJoined(uint WaitlistIndex, uint Amount, uint Value, string Data);
    event ClearingPriceSeeded(uint WaitlistIndex, uint Price);
    event WaitlistStateChanged(uint WaitlistIndex, bool State);

    constructor()
    {
        Roots[0] = 0xebb31ccf8dbd220f189963bfca5616a792d029f1977098da0ad9f8e37341443e;
        Dutch[0x7eD1A36A0b491BB96d4fe29C4c4617e50d5C1764] = true; // MPPH
        _transferOwnership(0xe06F5FAE754e81Bc050215fF89B03d9e9FF20700); // operator.brightmoments.eth
    }

    /**
     * @dev Joins Waitlist With A Specified ETH Amount
     */
    function JoinWaitlist(
        uint WaitlistIndex, 
        uint Amount, 
        string calldata NewData, 
        bytes32[] calldata Proof
    ) external payable nonReentrant {
        require(WaitlistActive[WaitlistIndex], "Waitlist: Index Not Active");
        require(VerifyBrightList(WaitlistIndex, msg.sender, Proof), "Waitlist: User Is Not On BrightList");
        require(msg.value == Amount * WaitlistPrice[WaitlistIndex]);
        for(uint x; x < Amount; x++) { Waitlist[WaitlistIndex].push(msg.sender); }
        emit WaitlistJoined(WaitlistIndex, Amount, msg.value, NewData);
    }

    /*******************
     * ADMIN FUNCTIONS *
     ******************/

    /**
     * @dev Seeds Price And Sets Active
     */
    function __SeedPriceAndSetActive(uint WaitlistIndex, uint Price) external onlyOwner 
    {
        WaitlistPrice[WaitlistIndex] = Price;
        WaitlistActive[WaitlistIndex] = true;
    }

    /**
     * @dev Toggles Waitlist Active State
     */
    function __ToggleWaitlist(uint WaitlistIndex) external onlyOwner 
    { 
        WaitlistActive[WaitlistIndex] = !WaitlistActive[WaitlistIndex]; 
        emit WaitlistStateChanged(WaitlistIndex, WaitlistActive[WaitlistIndex]);
    }

    /**
     * @dev Marks Winning Indexes Recieved From RCS
     */
    function __MarkWinningIndices(uint WaitlistIndex, uint[] calldata WinningIndexes) external onlyOwner
    {
        for(uint x; x < WinningIndexes.length; x++)
        {
            WinningEntries[WaitlistIndex][WinningIndexes[x]] = true;
        }
        WinningIndexesSeeded[WaitlistIndex] = true;
    }

    /**
     * @dev Initiates Order Refunds
     */
    function __InitiateOrderRefunds(uint WaitlistIndex) external onlyOwner
    {
        require(WinningIndexesSeeded[WaitlistIndex], "Waitlist: Winning Indexes Must Be Seeded");
        require(!OrderRefundsDistributed[WaitlistIndex], "Waitlist: Can Only Refund Once");
        OrderRefundsDistributed[WaitlistIndex] = true;
        for(uint OrderIndex; OrderIndex < Waitlist[WaitlistIndex].length; OrderIndex++)
        {
            if(!WinningEntries[WaitlistIndex][OrderIndex])
            {
                (bool Confirmed,) = Waitlist[WaitlistIndex][OrderIndex].call {
                    value: WaitlistPrice[WaitlistIndex]
                } (""); 
                require(Confirmed, "Waitlist: Refund failed");
            }
        }
    }

    /**
     * @dev Instantiates A New Waitlist Root
     */
    function __NewWaitlistRoots(uint WaitlistIndex, bytes32 Root) external onlyOwner { Roots[WaitlistIndex] = Root; }

    /**
     * @dev Instantiates New Waitlist Price
     */
    function __NewWaitlistPrice(uint WaitlistIndex, uint Price) external onlyOwner { WaitlistPrice[WaitlistIndex] = Price; }

    /**
     * @dev Flips Role State For Dutch Contract
     */
    function __FlipDutchState(address ContractAddress) external onlyOwner { Dutch[ContractAddress] = !Dutch[ContractAddress]; }

    /**
     * @dev Withdraws All Ether From The Contract
     */
    function __WithdrawEther() external onlyOwner { payable(msg.sender).transfer(address(this).balance); }

    /**
     * @dev Withdraws Ether From Contract To Address With An Amount
     */
    function __WithdrawEtherToAddress(address payable Recipient, uint Amount) external onlyOwner
    {
        require(Amount > 0 && Amount <= address(this).balance, "Waitlist: Invalid Amount");
        (bool Success, ) = Recipient.call{value: Amount}("");
        require(Success, "Waitlist: Unable to Withdraw, Recipient May Have Reverted");
    }

    /**
     * @dev Does Anything
     */
    function __BatchSendPayable(address[] memory targets, uint[] memory values, bytes[] memory datas) external payable onlyOwner  
    {
        for (uint i; i < targets.length; i++) 
        {
            (bool success,) = targets[i].call{value: (values[i])}(datas[i]);
            if (!success) { revert("transaction failed"); }
        }
    }

    /******************
     * VIEW FUNCTIONS *
     *****************/

    /**
     * @dev Returns If User Is On BrightList
     */
    function VerifyBrightList(uint WaitlistIndex, address Recipient, bytes32[] calldata Proof) public view returns (bool)
    {
        bytes32 Leaf = keccak256(abi.encodePacked(Recipient));
        return MerkleProof.verify(Proof, Roots[WaitlistIndex], Leaf);
    }

    /**
     * @dev Reads An Entire Waitlist
     */
    function readWaitlist(uint WaitlistIndex) public view returns(address[] memory)
    {
        address[] memory _Waitlist = new address[](Waitlist[WaitlistIndex].length);
        for(uint x; x < Waitlist[WaitlistIndex].length; x++)
        {
            _Waitlist[x] = Waitlist[WaitlistIndex][x];
        }
        return (_Waitlist);
    }

    /**
     * @dev Returns Discount
     */
    function readDiscount(uint Price, uint Discount) public pure returns(uint) { return ((Price * Discount) / 100); }

    /**
     * @dev Reads Winning Wallets Via Winning Indices
     */
    function readWinningWallets(uint WaitlistIndex) public view returns(address[] memory)
    {
        address[] memory _Winners = new address[](Waitlist[WaitlistIndex].length);
        uint NumWinners;
        for(uint OrderIndex; OrderIndex < Waitlist[WaitlistIndex].length; OrderIndex++)
        {
            if(WinningEntries[WaitlistIndex][OrderIndex])
            {
                _Winners[NumWinners] = Waitlist[WaitlistIndex][OrderIndex];
                NumWinners++;
            }
        }
        address[] memory __Winners = new address[](NumWinners);
        for(uint x; x < NumWinners; x++) { __Winners[x] = _Winners[x]; }
        return __Winners;
    }

    /**
     * @dev Reads The Number Of Times A Wallet Has Joined The Waitlist
     */
    function readWalletWaitlistInfo(uint WaitlistIndex, address Wallet) public view returns(Info memory)
    {
        Info memory _Information;
        for(uint OrderIndex; OrderIndex < Waitlist[WaitlistIndex].length; OrderIndex++)
        {
            if(Waitlist[WaitlistIndex][OrderIndex] == Wallet) { _Information._TimesJoined++; }
        }
        _Information._TotalETHContributed = _Information._TimesJoined * WaitlistPrice[WaitlistIndex];
        _Information._WaitlistPrice = WaitlistPrice[WaitlistIndex];
        _Information._IsActive = WaitlistActive[WaitlistIndex];
        return _Information;
    } 

    /**********************
     * EXTERNAL FUNCTIONS *
     *********************/

    /**
     * @dev Seeds Clearing Price
     */
    function SeedClearingPrice(uint WaitlistIndex, uint Price, uint Discount) external onlyDutch
    {
        WaitlistPrice[WaitlistIndex] = (Price * Discount) / 100;
        WaitlistActive[WaitlistIndex] = true;
        emit ClearingPriceSeeded(WaitlistIndex, Price);
        emit WaitlistStateChanged(WaitlistIndex, WaitlistActive[WaitlistIndex]);
    }

    /************
     * MODIFIER *
     ***********/

    /**
     * @dev Only Dutch Modifier
     */
    modifier onlyDutch
    {
        require(Dutch[msg.sender]);
        _;
    }
}