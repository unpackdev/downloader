// SPDX-License-Identifier: UNLICENSED

//WKd:,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,',,:lON
//Ol,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,:d
//:,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,;
//,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
//,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
//,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
//,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
//,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
//,,,,,,,lkkkkkkkkkkkkkkkkkkkxoc;,,,,,,,,,,,,;okkkkkkkkko;,,,,,,,,,:dkkkkkkkdc,,,,,,,,:dkkkkkxc,,,,,,,
//,,,,,,;xWMMMMMMMMMMMMMMMMMMWWN0d:,,,,',,,,,oXWMMMMMMMWKo,,,,,,,,,cKWMMMMMWW0l,,,,,,,oXWMMMMNx;,,,,,,
//,,,,,,;xWMMMMMMMMMMMMMMMMMMMMMMNO:,,,,,,,,c0WMMMMMMMMMWO:,,,,,,,,cKMMMMMMMMWKo;,,,,,oXMMMMMNx,,,,,,,
//,,,,,,;xWMMMMMW0xxxxxxxk0NMMMMMMNx;,,,,,,:kNMMMMMMMMMMMNx;,,,,,,,cKWMMMMMMMMMXx;,,,,oXMMMMMNx,,,,,,,
//,,,,,,;xWMMMMMNo,,,,,,,,;kWMMMMMWO:,,,,,;dNMMMMMMMMMMMMWKl,,,,,,,cKMMMMMMMMMMMNk:,,,oXWMMMMNx,,,,,,,
//,,,,,,;xWMMMMMNo,,,,,,,,,dNMMMMMWO:,,,,,lKWMMMMMMMMMMMMMWk:,,,,,,cKMMMMMMMMMMMMNOc,,oXWMMMMNx,,,,,,,
//,,,,,,;xWMMMMMNo,,:ccccldKWMMMMWNd;,,,,cOWMMMMMMMMMMMMMMMNd,,,,,,cKWMMMMMMMMMMMMW0l,oXMMMMMNx,,,,,,,
//,,,,,,;xWMMMMMNo,;xXNNNNWMMMMWXOo;,,,,;xNMMMMMMWKXWMMMMMMW0c,,,,,cKWMMMMMMMMMMMMMWKodXMMMMMNx,,,,,,,
//,,,,,,;xWMMMMMNo,;kWWMMMMMMMMWKd:,,,,,oXWMMMMMW0ldKNMMMMMMNk;,,,,cKWMMMMMWNNMMMMMMWNKNMMMMMNx,,,,,,,
//,,,,,,;xWMMMMMNo,;lxkkkkKWMMMMWNOc,,,c0WMMMMMWXo,:ckNMMMMMMXo,,,,cKWMMMMMNkxXWMMMMMMMMMMMMMNx,,,,,,,
//,,,,,,;xWMMMMMNd,,,,,,,,:OWMMMMMWk:,:kWMMMMMMNx;,,,c0WMMMMMW0c,,,cKWMMMMMNd;oKWMMMMMMMMMMMMNx,,,,,,,
//,,,,,,;xWMMMMMNo,,,,,,,,;xWMMMMMWKc;dNMMMMMMWO:,,,,,oXWMMMMMNx;,,cKMMMMMMNd,,l0WMMMMMMMMMMMNx,,,,,,,
//,,,,,,;xWMMMMMNd,,,,,,,,c0WMMMMMWKloKWMMMMMWXo;;;;;;:xNMMMMMWKo,,cKMMMMMMNd,,,cONMMMMMMMMMMNx,,,,,,,
//,,,,,,;xWMMMMMWKOOkkkkkOKWMMMMMMNxl0WMMMMMMMNK0K0000oc0WMMMMMWO:,cKMMMMMMNd,,,,:kNMMMMMMMMMNx,,,,,,,
//,,,,,,;xWMMMMMMMMMMMMMMMMMMMMMMNklkNMMMMMMMMMMMMMMMWx;oXMMMMMMNd;cKMMMMMMNd,,,,,;xXWMMMMMMMNx,,,,,,,
//,,,,,,;xWMMMMMMMMMMMMMMMMMMWWXOo:dXWMMMMMMMMMMMMMMMNx;;xNWMMMWWKllKWMMMMWNd,,,,,,;dKWMMMMMMNd,,,,,,,
//,,,,,,,cdxxxxxxxxxxxxxxxxxxdoc;,;okkkkkkkkkkkkkkkkkxl,,:dkkkkkkxl:dkkkkkkxc,,,,,,,,lxkkkkkkxl,,,,,,,
//,,,,,,,,,,',,',,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
//,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,;,,,,,,,,,,,,,,,,,,,,,,,,,,,
//,,,,,,,oO000000000000000Okxo:,,,,,,,,,lk0000000000000000000Oo,,,,oO00000Oo;,,,,,,,,,,,,,,,,,,,,,,,,,
//,,,,,,;xWMMMMMMMMMMMMMMMMMWWXOo;,,,,,,dXWMMMMMMMMMMMMMMMMMMWx;,,;xNMMMMMWk;,,,,,,,,,,,,,,,,,,,,,,,,,
//,,,,,,;xWMMMMMMMMMMMMMMMMMMMMMNOc,,,',dXMMMMMMMMMMMMMMMMMMMWx;,,;xNMMMMMWk;,,,,,,,,,,,,,,,,,,,,,,,,,
//,,,,,,;xWMMMMMWKkxxxxxx0NWMMMMMWKl,,,,dNMMMMMMMWWWWWWWWWWWWNx;,,;xNMMMMMWk;,,,,,,,,,,,,,,,,,,,,,,,,,
//,,,,,,;xWMMMMMWx;,,,,,,;lONMMMMMW0c,,,dNMMMMMWKdoooooooooool:,,,;xNMMMMMWk;,,,,,,,,,,,,,,,,,,,,,,,,,
//,,,,,,;xWMMMMMWx;,,,,,,,,:kNMMMMMNx;,,dNMMMMMWOc,,,,,,,,,,,,,,,,;xNMMMMMWk;,,,,,,,,,,,,,,,,,,,,,,,,,
//,,,,,,;xWMMMMMWx;,,,,,,,,,lKWMMMMWO:,,dNMMMMMMNK00000000Ol,,,,,,;xNMMMMMWk;,,,,,,,,,,,,,,,,,,,,,,,,,
//,,,,,,;xWMMMMMWx;,,,,,,,,,:OWMMMMW0c,,dNMMMMMMMMMMMMMMMMNd,,,,,,;xNMMMMMWk;,,,,,,,,,,,,,,,,,,,,,,,,,
//,,,,,,;xWMMMMMNx;,,,,,,,,,:OWMMMMWKl,,dXWMMMMMMMMMMMMMMMNd,,,,,,;xNMMMMMWk;,,,,,,,,,,,,,,,,,,,,,,,,,
//,,,,,,;xWMMMMMNx;,,,,,,,,,c0WMMMMWKl,,dXMMMMMMMWWWWWWWWWXd,',,,,;xNMMMMMWk;,,,,,,,,,,,,,,,,,,,,,,,,,
//,,,,,,;xWMMMMMWx;,,,,,,,,;xNMMMMMWO:,,dNMMMMMWKdooooooool:,,,,,,;xNMMMMMWk;,,,,,,,,,,,,,,,,,,,,,,,,,
//,,,,,,;xWMMMMMWx;,,,,,,,;dXWMMMMMXo,,,dNMMMMMWO:,,,,,,,,,,,,,,,,;xNMMMMMWk;,,,,,,,,,,,,,,,,,,,,,,,,,
//,,,,,,;xWMMMMMWk:::::::lONMMMMMMNx;,,,dNMMMMMMN0OOOOOOOOOOOko,,,;xNMMMMMWX0OOOOOOOOOOkl,,,,,,,,,,,,,
//,,,,,,;xWMMMMMMNXXXXXXXWWMMMMMWXx:,,,,dNMMMMMMMMMMMMMMMMMMMWx;,,;xNMMMMMMMMMMMMMMMMMMNd,,,,,,,,,,,,,
//,,,,,,;xWMMMMMMMMMMMMMMMMMMMWXOl;,,,,,dNMMMMMMMMMMMMMMMMMMMWx;,,;xNWMMMMMMMMMMMMMMMMMNd,,,,,,,,,,,,,
//,,,,,,;xWMMMMMMMMMMMMMMWWNXOdc;,,,,,,,dXWWWWWWWWWWWWWWWWWWWNx;,';xNWWWWWWWWWWWWWWWWWWXd,,,,,,,,,,,,,
//,,,,,,,cdxxxxxxxxxxxxxxdol:,,,,,,,,,,,:oooooooooooooooooooooc,,,,coooooooooooooooooooo:,,,,,,,,,,,,,
//,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,',,,,,,,,,,,,,,,,,,,,,,,,,,,,,
//,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
//,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
//,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
//:,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,',c
//0o;,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,;o0
//WXkl:;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;:lkXW

pragma solidity ^0.8.16;

import "./ERC721A.sol";
import "./Owned.sol";
import "./Strings.sol";


contract Bandel is ERC721A, Owned{
    using Strings for uint256;

    bool public mintActive;
    string public baseURI;
    uint public maxSupply = 1e3;
    uint public mintPrice = 1e15;

    constructor()ERC721A("Bandel", "BNDL")Owned(msg.sender){}

    function mint(uint quantity) external payable{
        require(mintActive, "Minting is not active");
        require(msg.value >= quantity * mintPrice, "Bandel: not enough ETH sent to mint");
        require(totalSupply() + quantity <= maxSupply, "Bandel: max supply reached");
        _mint(msg.sender, quantity);
    }

    function updateBaseURI(string calldata newBaseURI) external onlyOwner {
        baseURI = newBaseURI;
    }

    function flipmintActive() external onlyOwner {
        mintActive = !mintActive;
    }

     function withdraw() external onlyOwner {
        assembly {
            let result := call(0, caller(), selfbalance(), 0, 0, 0, 0)
            switch result
            case 0 { revert(0, 0) }
            default { return(0, 0) }
        }
    }

    function tokenURI(uint256 tokenId) public view virtual override returns (string memory) {
        require(_exists(tokenId), "This token does not exist");
        return bytes(baseURI).length > 0 ? string(abi.encodePacked(baseURI, tokenId.toString())) : "";
    }
}