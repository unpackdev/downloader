//SPDX-License-Identifier: MIT
/*@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@
@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@
@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@
@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@
@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@
@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@
@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@
@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@
@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@
@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@
@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@
@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@
@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@
@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@                    @@@@@@@@@@@@@@@@@@@@@@@@@@@@@@
@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@                             @@@@@@@@@@@@@@@@@@@@@@@@@@@@@@
@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@                                    @@@@@@@@@@@@@@@@@@@@@@@@@@@@@@
@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@                                         @@@@@@@@@@@@@@@@@@@@@@@@@@@@@@
@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@                                             @@@@@@@@@@@@@@@@@@@@@@@@@@@@@@
@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@                                                @@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@
@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@                                                    @@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@
@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@                                                      @@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@
@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@                                                         @@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@
@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@                                                           @@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@
@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@ @@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@                      @@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@
@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@    @@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@                     @@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@
@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@      @@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@                    @@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@
@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@        @@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@                   @@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@
@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@          @@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@                  @@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@
@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@           @@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@                 @@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@
@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@             @@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@                @@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@
@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@              @@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@              @@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@
@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@                @@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@             @@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@
@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@                 @@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@           @@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@
@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@                  @@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@         @@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@
@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@                   @@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@        @@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@
@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@                    @@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@      @@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@
@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@                     @@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@   @@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@
@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@                      @@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@ @@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@
@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@                                                           @@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@
@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@                                                         @@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@
@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@                                                      @@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@
@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@                                                    @@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@
@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@                                                @@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@
@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@                                             @@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@
@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@                                        @@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@
@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@                                   @@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@
@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@                             @@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@
@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@                    @@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@
@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@
@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@
@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@
@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@
@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@
@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@
@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@
@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@
@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@
@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@
@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@
@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@*/
/**
 * @title Claimer
 * @author @brougkr
 * @notice A Smart Contract To Facilitate Draft Pick Claims
 */
pragma solidity 0.8.19;
import "./Ownable.sol";
import "./ReentrancyGuard.sol";
import "./IMP.sol";
contract Claimer is Ownable, ReentrancyGuard
{
    struct Claim
    {
        address _MintPass;         // [0] -> _MintPass
        address _MintedWork;       // [1] -> _MintedWork
        address _Operator;         // [2] -> _Operator 
        uint _StartingTimestamp;   // [3] -> _StartingTimestamp (Unix Start Time)
        uint _SecondsPerTokenID;   // [4] -> _SecondsPerTokenID (600 = 10 Minutes For Each TokenID)
        uint _SecondsIntermission; // [5] -> _SecondsIntermission (Gap In Seconds To Next Continuation)
        uint _MaxPerIntermission;  // [6] -> _MaxPerIntermission (Maximum TokenIDs To Claim Per _SecondsIntermission)
        uint _MaxTotalClaim;       // [7] -> _MaxTotalClaim (Maximum Total TokenIDs To Claim)
    }

    struct UserClaim
    {
        address _Claimer;     // [0] -> _Claimer
        uint _ClaimedTokenID; // [1] -> _ClaimedTokenID
        uint _BurnedTokenID;  // [2] -> _BurnedTokenID
        uint _Timestamp;      // [3] -> _Timestamp
    }

    Claim public _Claim;
    UserClaim[] private _UserClaims;

    event Claimed(address Claimer, uint ClaimedTokenID, uint Timestamp);
    event Purchased(address Purchaser, uint[] Tokens, uint Amount);

    constructor()
    {
        _Claim._MintPass = 0x4c909BfAFAe145bf53892136A056FB4B36B450b0;
        _Claim._MintedWork = 0x0A1BBD57033F57E7B6743621b79fCB9Eb2CE3676;
        _Claim._Operator = 0x5168D59eFEBF8B86513b8728EC3e2D9Aa099BD93;
        _Claim._SecondsIntermission = 89400; // 12 Hours + (_Claim._SecondsPerTokenID * 5)
        _Claim._SecondsPerTokenID = 600; // 10 Minutes
        _Claim._StartingTimestamp = 1697724000 - (_Claim._SecondsPerTokenID * 5); // Starts At 5th TokenID
        _Claim._MaxPerIntermission = 55; // 55 Tokens Per Intermission
        _Claim._MaxTotalClaim = 100; // 100 Tokens Total
    }

    /**
     * @dev Claims Tokens
     */
    function ClaimTokens(uint[] calldata BurnTokenIDs, uint[] calldata RedeemTokenIDs) external nonReentrant
    {
        require(block.timestamp >= _Claim._StartingTimestamp, "Claimer: Claiming Has Not Started Yet");
        require(BurnTokenIDs.length == RedeemTokenIDs.length, "Claimer: Invalid Array Input Length");
        uint ValidTokenID = ViewValidTokenID(block.timestamp);
        for(uint x; x < BurnTokenIDs.length; x++)
        {
            require(BurnTokenIDs[x] <= ValidTokenID, "Claimer: Invalid Burn Token ID");
            (address Recipient, ) = IMP(_Claim._MintPass)._LiveMintBurn(BurnTokenIDs[x]);
            require(Recipient == msg.sender, "Claimer: Msg.Sender Is Not Owner Of Input Mint Pass");
            IERC721(_Claim._MintedWork).transferFrom(_Claim._Operator, Recipient, RedeemTokenIDs[x]);
            _UserClaims.push(UserClaim(msg.sender, RedeemTokenIDs[x], BurnTokenIDs[x], block.timestamp));
            emit Claimed(msg.sender, RedeemTokenIDs[x], block.timestamp);
        }
    }

    /**
     * @dev Changes All Addresses
     */
    function _ChangeAddresses(address NewMintPass, address NewMintedWork, address Operator) external onlyOwner
    {
        _Claim._MintPass = NewMintPass;
        _Claim._MintedWork = NewMintedWork;
        _Claim._Operator = Operator;
    }

    /**
     * @dev Changes Unix Start Time & The Seconds Interval
     */
    function _ChangeSecondsAndStart(uint StartingTimestamp, uint SecondsInterval) external onlyOwner
    {
        _Claim._StartingTimestamp = StartingTimestamp;
        _Claim._SecondsPerTokenID = SecondsInterval;
    }

    /**
     * @dev Changes The Current Mint Pass Address
     */
    function _ChangeMintPassAddress(address NewAddress) external onlyOwner { _Claim._MintPass = NewAddress; }

    /**
     * @dev Changes The Current Minted Work Address
     */
    function _ChangeMintedWorkAddress(address NewAddress) external onlyOwner { _Claim._MintedWork = NewAddress; }

    /**
     * @dev Changes The Operator Address
     */
    function _ChangeOperatorAddress(address NewAddress) external onlyOwner { _Claim._Operator = NewAddress; }

    /**
     * @dev Changes The Starting Timestamp For Timelocked Draft Pick Merkle Claims
     */
    function _ChangeStartingTimestamp(uint UnixTimestamp) external onlyOwner { _Claim._StartingTimestamp = UnixTimestamp; }

    /**
     * @dev Changes The Seconds Per TokenID Claim (600 = 10 minutes Per TokenID)
     */
    function _ChangeSecondsPerTokenID(uint Seconds) external onlyOwner { _Claim._SecondsPerTokenID = Seconds; }

    /**
     * @dev Changes The Amount Of Seconds In Each Intermission
     */
    function _ChangeSecondsIntermission(uint Seconds) external onlyOwner { _Claim._SecondsIntermission = Seconds; }

    /**
     * @dev Changes The Maximum TokenIDs Available Per Intermission Interval
     */
    function _ChangeMaxPerIntermission(uint Max) external onlyOwner { _Claim._MaxPerIntermission = Max; }
    
    /**
     * @dev Changes The Max Claimable Tokens For Timelocked Draft Pick Merkle Claims
     */
    function _ChangeMaxClaim(uint Max) external onlyOwner { _Claim._MaxTotalClaim = Max; }

    /**
     * @dev Changes The Seconds Interval For Timelocked Draft Pick Merkle Claims
     */
    function _ChangeSecondsInterval(uint SecondsInterval) external onlyOwner { _Claim._SecondsPerTokenID = SecondsInterval; }

    /**
     * @dev Executes Arbitrary Transaction(s)
     */
    function _InitTransaction ( address[] memory Targets, uint[] memory Values, bytes[] memory Datas ) external onlyOwner
    {
        for(uint x; x < Targets.length; x++) 
        {
            (bool success,) = Targets[x].call{value:(Values[x])}(Datas[x]);
            require(success, "i have failed u anakin");
        }
    }

    /**
     * @dev Returns The Current Eligible TokenID For Timelocked Draft Pick Merkle Claims
     */
    function ViewFrontend() public view returns ( UserClaim[] memory AllClaims, Claim memory ClaimParams, uint[] memory Timetable, uint ValidTokenID ) 
    {
        ValidTokenID = ViewValidTokenID(block.timestamp);
        return (_UserClaims, _Claim, ViewTimetable(), ValidTokenID);
    }
    
    /**
     * @dev Returns An Array Of Successful Claims
     */
    function ViewClaims() public view returns ( UserClaim[] memory AllClaims ) { return _UserClaims; }

    /**
     * @dev Returns The Timetable Of Unix Timestamps For Given Range Of TokenIDs
     */
    function ViewTimetable() public view returns ( uint[] memory Timestamps ) 
    {
        Timestamps = new uint[](_Claim._MaxTotalClaim);
        for (uint x; x < _Claim._MaxTotalClaim; x++) { Timestamps[x] = ViewTimestampForTokenID(x); }
        return Timestamps;
    }

    /**
     * @dev Calculates the Unix Timestamp for a given TokenID
     */
    function ViewTimestampForTokenID ( uint TokenID ) public view returns ( uint ) 
    {
        uint MaxPerLocalInterval = _Claim._MaxPerIntermission;
        uint SecondsIntermission = _Claim._SecondsIntermission;
        uint Interval = _Claim._SecondsPerTokenID;
        uint fullIntervals = TokenID / MaxPerLocalInterval;
        uint currentIntervalIncrements = TokenID % MaxPerLocalInterval;
        return _Claim._StartingTimestamp + (fullIntervals * SecondsIntermission) + (currentIntervalIncrements * Interval);
    }

    /**
     * @dev Returns The Current Valid TokenID
     */
    function ViewValidTokenID ( uint UnixTimestamp ) public view returns ( uint )
    { 
        if(UnixTimestamp < _Claim._StartingTimestamp) { return type(uint).max; }
        uint MaxPerLocalInterval = _Claim._MaxPerIntermission;
        uint SecondsIntermission = _Claim._SecondsIntermission;
        uint elapsedTime = UnixTimestamp - _Claim._StartingTimestamp;
        uint fullIntervals = (elapsedTime / SecondsIntermission);
        uint halflivescompleted = elapsedTime % SecondsIntermission;
        uint currentIntervalIncrements = halflivescompleted / _Claim._SecondsPerTokenID;
        if(currentIntervalIncrements >= MaxPerLocalInterval) { currentIntervalIncrements = MaxPerLocalInterval - 1; }
        return (fullIntervals * MaxPerLocalInterval) + currentIntervalIncrements;
    }
}

interface IERC721 { function transferFrom(address from, address to, uint256 tokenId) external; }