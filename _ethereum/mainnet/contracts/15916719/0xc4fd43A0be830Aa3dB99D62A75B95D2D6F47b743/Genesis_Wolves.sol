// SPDX-License-Identifier: MIT
/*
Amended By AYYYLIEN BOSS 
@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@#@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@
@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@?S@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@
@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@%SS%%;;;S%%S%SS@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@
@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@#%+;;,;:,.;;:::;+?@%S@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@
@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@SS%%*;:,,,,,,,:,;,,.,;+,+%S@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@
@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@%S%*:,,.,.,,......,,,.,,,,:+?%@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@
@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@%?%:,.................,,,::;;;*S@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@
@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@#%::,..,,...,.,.,,,,,,.,,,,;+,;**%@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@
@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@S*,.....,..,,,,,,,,,,,,,:,:,,.++**S@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@
@@@@@@@@@@@@@@@@@@@@@@@@@@@@@#S?,,,..,,,,,,::::::::::::::,,,,,:;:%@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@
@@@@@@@@@@@@@@@@@@@@@@@@@@@@S;:,,,,,,,:::::::;;::::::::::,,,,,,,:+%@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@
@@@@@@@@@@@@@@@@@@@@@@@@@@#S*,..,,,,::::;;:;:;:::;:;;:::::,,,.,,,;+S@#@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@
@@@@@@@@@@@@@@@@@@@@@@@@@@?;;,.,:,,:;;:,:::::::::,:::;:;:::,,,,:,:+##S@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@
@@@@@@@@@@@@@@@@@@@@@@@@@#+,,,,,::::::,..,,,,,,,,,,,,,,:::::::,,,:++%%SS%@%#@@@@@@@@@@@@@@@@@@@@@@@@
@@@@@@@@@@@@@@@@@@@@@@@@S;,,,,:::;:,,,,,,,,,,,,,,,,,.,,,,,:::,,,...,:;++*+;*???@@@@@@@@@@@@@@@@@@@@@
@@@@@@@@@@#@@@@@@@@@@@@%+..,:::;;;:,...,,,,.,,,.,..,,,..,,::;:,,.....,,,.,,,.,:%@@@@@@@@@@@@@@@@@@@@
@@@@@@@@@?+S%##@@@@@@@#;.,,::;;;;:,.....,.,.......,...,,,::;;:,,,.,,,,,,....,,,,%@@@@@@@@@@@@@@@@@@@
@@@@@@@@#;:,,:+##@@@S*;:,,::;;;;;::,,..,,..,,..,..,,.,,,:;;;::,,..,,......,,,,,,?@@@@@@@@@@@@@@@@@@@
@@@@@@@@%:..,,:;+*?%;,,,,::;;;:;;:::,,,,,,,,,.,,,,,,.,,,:::::,,,.,,,....,,,,,,,;%@@@@@@@@@@@@@@@@@@@
@@@@@@@@?;:,,,...,.,,,,.,::;;:::::,,,,,,,,,,,,,,,,,,,,,,,::::,,,,,,...,.,,,,,,:%@@@@@@@@@@@@@@@@@@@@
@@@@@@@#??:,,,,,,,,,,,,,::;;;:::,,,,::,,,,,,,,,,,,,,,,,,,:,,:,,,,,,,.,,,,,,,,:?#@@@@@@@@@@@@@@@@@@@@
@@@@@@@S?+::,,,,,,,,,,,:::;:::::,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,:,,,,,,,,,:,:+#@@@@@@@@@@@@@@@@@@@@@
@@@@@@@@@S*:,,,,,,,,,.,,:;;::,,,,,,,,,,,,,,.,.,,,,,,,,,,,,,,,,,,,,,,,,,,,,::+#@@@@@@@@@@@@@@@@@@@@@@
@@@@@@@@@@?:,,,,,,,,..,,:;::::,,,,:,,,,,,,,,,,,:,,,,,:,,,,,,,,,,,,:,,,,,,.,;*S@@@@@@@@@@@@@@@@@@@@@@
@@@@@@@@@@S:;*:,::,,..,,:::::,,,:::,,,,,:::,,,,,,,,::::,::,,,,,,,,,,,,:,,,,:;*#@@@#@@@@@@@@@@@@@@@@@
@@@@@@@@@@@S@#+;:,,..,,:::,,,,,:,::,,,,,:::,,,,,:,,:,,,,::,,,,,,,,,,,,,,,,,,::%#@#S@@@@@@@@@@@@@@@@@
@@@@@@@@@@@@@@#?:,,..,,,,,,,,,,:,,,::,:::::,,,,,,,,,,,,,,:::,,,,,,,,,,,,,,,,,,:+*+++%@@@@@@@@@@@@@@@
@@@@@@@@@@@@@@@%*+,....,,,,,,,,,,,,,,:,:,,,,,,,,,,,,,,,,,::,,,,,,,,,,,,,,,,..,.,:+:;S#@@@@@@@@@@@@@@
@@@@@@@@@@@@@@@@@?:,...,,,,,,,,,,,,,,,,:,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,....,;+?#@@@@@@@@@@@@@@
@@@@@@@@@@@@@@@@#%?,...,,,,,,,,,,,,,:,,,,:,,,,,,,,,,,,:,:,,,,,,,,,,,,,,,,,,,,..,,..,*SS@@@@@@@@@@@@@
@@@@@@@@@@@@@#@@@@?,..,,,,,,,,,,,,,,,,,,,,,,,,,,,:,,,,,,:,,,,,,,,,,,,,,,,.,,,......,?@@@@@@@@@@@@@@@
@@@@@@@@@@@@#*?%%%;,..,,,,,,,,:,,,,:,,,,,:,,,,,,,::,,:,:::,,,,,,,,,,,,,,,,,,,.....,,?@@@@@@@@@@@@@@@
@@@@@@@@@@@@S:;+::,.,,,,,,,,,,,:,:,::,,::,,,,,,,,,::::,:::,,,,,,,,,,,,,,,,,,,,,,,.,,+?S@@@@@@@@@@@@@
@@@@@@@@@@@@S;:;+:,..,,,,,,,,,,,,,,,,,,,:,,,,,,,:,,:::::::::,,,,,,,,,,,:,,,,.,,,,..,;%@@@@@@@@@@@@@@
@@@@@@@@@@@@*;;;:::,.,,,,,,,,,,,,,:,:,,,,,,,,,,,,:::::::::,::::,,,,,,,,::,,,,,,,,:.,;S#@@@@@@@@@@@@@
@@@@@@@@@@@#?:;+*;:..,,,,,,,,,,,:::::::::,,,,.,,,,::::?#@S?+:::,,,,,,,:::,,,,,,.,,,::+?@@@@@@@@@@@@@
@@@@@@@@@@@?+,,,:,,,,,,,,,,,,,,,:::::::::,,,,.,,::::,*@@@@#+::::,,,,,,::,,,.....,.,:;?S#@@@@@@@@@@@@
@@@@@@@@@@@#+;:,;:,,,,,,,,,,,,:::::::::::,,,,.,,:::::#@##@*,:::,,::::::::,,,,...,.,:;S@@@@@@@@@@@@@@
@@@@@@@@@@@%++:,,:,,,,,,,,,:,::,:;;:::::::,,,.,,:::::@@#@@;::::::::::;:::,,.........+%#@@@@@@@@@@@@@
@@@@@@@@@@@#;:,.,,,.,,,,,,,::::?S@@#;::::::,.,,,,,::;@@@@*,:::,,::::;:::,,,.....,,.,,*?@@@@@@@@@@@@@
@@@@@@@@@@#%;,;;,,,,,,,,,,,::::S@#@@S,::::,,,,,,,,:,*@@#+:::::,:::::::::,,......,,,,,+#@@@@@@@@@@@@@
@@@@@@@@@@S?:,,,,,,,,,,,,:,:::,*@@#@@*:::,,,,,,,,,:,%S;:,::::::::;;:,,,,,,,......,,,.:%@@@@@@@@@@@@@
@@@@@@@@@#?+:::,,,,,,::::,::::::%@@#?+::,,,,,,.,,,::+:,::::::::;::::,,,,,........,,..;S@@@@@@@@@@@@@
@@@@@@@@@#?:,,::,,,,,,:::::::::::;;:,::::,,,,,..,,,:,::::::::::::::,,,,,,,......:,.:;?@@@@@@@@@@@@@@
@@@@@@@@@@?++:::,,,,,,::::::::;::::::::::,,,,,,,,,::::::::::::;:,,:,,,,.........;;:;%#@@@@@@@@@@@@@@
@@@@@@@@@@S;;,,......,,,::::::;:::::::::,,,,,,,,,,:::::::::;:::::,,,:,,,......,*;*;,*S@@@@@@@@@@@@@@
@@@@@@@@@@?;.,,,.......,:::;;;;::::::::::,,,,,,,,,::;;:::::::::::,:,::,,,....,,;*?;*?S@@@@@@@@@@@@@@
@@@@@@@@@@S;,::,.......,,:::::;:::;;::;;:,,,,,,,,,::;::::::,:,,,,::;::,,.....:,;*#@@@@@@@@@@@@@@@@@@
@@@@@@@@@@*,,.,..,,.....,,:,,:::::::::;::,,,,,,,,,::::::::,,,,,::::;;:,....,..;%?%@@@@@@@@@@@@@@@@@@
@@@@@@@@@@S;,,,,,.......,..,,,,::::::::::,,,,,,,,,:,::::,,,,,,,,:;;;;::,...,;;,*@S#@@@@@@@@@@@@@@@@@
@@@@@@@@@@@@+;:,...........,,,,,,,:::,:::,,,:,,,,,,,,,:,,,,,,,:,:;;;;:,,...,+%%;;@@@@@@@@@@@@@@@@@@@
@@@@@@@@@@@@@?*;:.,.........,,,,,,,,,,::,.,,,,,,,,,,,,,,,,,,::::;;;;:,.....,+?@@%@@@@@@@@@@@@@@@@@@@
@@@@@@@@@@@@@%?%:.,..,,.,,,,,:,,,,,,,,::,,,,,,,,.,,,,,,,,,,,::;;;;;:,.....,.,S@@@@@@@@@@@@@@@@@@@@@@
@@@@@@@@@@@@@#@;.,,.....,::::::,,,,,,,,,,..,,...,,,,,,,,,,,,::;;;:,,,.....,,,*#@@@@@@@@@@@@@@@@@@@@@
@@@@@@@@@@@@@@*.;*,,.,,,,:;;;;::::,,,,,:*???%%+:,,,,,,,,,,,:::;;;:,....,...,,+#@@@@@@@@@@@@@@@@@@@@@
@@@@@@@@@@@@@#;?S;?+,,,...::;;:;:::,,,,%@@@@@@@@?,,,,,,,,;,:;;;::,.....,..,:+%#@@@@@@@@@@@@@@@@@@@@@
@@@@@@@@@@@@@S#S%SS+:.....,,:::;:;:,,,;@@@@@@@@@S,,,,,,,*@:::;;;:,,.......;:;?@@@@@@@@@@@@@@@@@@@@@@
@@@@@@@@@@@@@@@@@%?:;,.,,..,,,::;;::,.?@@@@@@@@@#,,,,,,:#%,:;;;;:,......,,;++#@@@@@@@@@@@@@@@@@@@@@@
@@@@@@@@@@@@@@@@%S@S+,,,,..,,,::::;:,,%@@@@@@@@@@+,,,,:S@+:;;;;:,....,,..:+%?%@@@@@@@@@@@@@@@@@@@@@@
@@@@@@@@@@@@@@@@@@@#;:,......,,,::;:,,S@@@@@@@@@#;,,,,*@#,,:;;;:,,..,,::::?%%S@@@@@@@@@@@@@@@@@@@@@@
@@@@@@@@@@@@@@@@@@@?;,,:,..,,..,:,,,,.;@@@@@@@@@?,,,,:#@%..,:;:,.....,:;::;#@@@@@@@@@@@@@@@@@@@@@@@@
@@@@@@@@@@@@@@@@@@@*,;S+.,,,,..,,......*@@@@@@@S:,,,+#@@;...,,,,,.......,;*%@@@@@@@@@@@@@@@@@@@@@@@@
@@@@@@@@@@@@@@@@@@#S#@S::,,.,.........,,?SSS%*+,,;,:+@@S...,,..,,...,.:*:*%@@@@@@@@@@@@@@@@@@@@@@@@@
@@@@@@@@@@@@@@@@@@@@@@*+::,+,,,.,,,...,,.,:;;;+%#%::,#@:...,...,,...,:;%@@@@@@@@@@@@@@@@@@@@@@@@@@@@
@@@@@@@@@@@@@@@@@@@@@@@*;:;S*;,,,,.,,.:S:;@@@@@#%:,*:%?....,...,,..,;+**S@@@@@@@@@@@@@@@@@@@@@@@@@@@
@@@@@@@@@@@@@@@@@@@@@@#?;;?@#:,,:.,:,,.:;:??S#%*+++S%*,.....,:,,.,..;?#@%@@@@@@@@@@@@@@@@@@@@@@@@@@@
@@@@@@@@@@@@@@@@@@@@@@@@*%#@S%;?:,:,....;%::,;;+;SS@@*...,,,,:...,,,,;?#@@@@@@@@@@@@@@@@@@@@@@@@@@@@
@@@@@@@@@@@@@@@@@@@@@@@@?@@@@?#S;;,,,...,##%*%S##@@@*....,,:;.,,.,,+*+?%@@@@@@@@@@@@@@@@@@@@@@@@@@@@
@@@@@@@@@@@@@@@@@@@@@@@@@@@@SS@+S?,::,,..;@@@@@@@@@*......:,:,,;:.;;?#%@@@@@@@@@@@@@@@@@@@@@@@@@@@@@
@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@%@*:*;?,,,.+@@@@@@#;.......,.,:..;++##S@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@
@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@S###++,,:..,;;:;;:.....,,.+:.:;..:;;#@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@
@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@?+,+,.,,.......,...,::,*,SS;::++?@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@
@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@#%*%#,,::.,,,,,,,.,,.,;;:,+#@S*%@#@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@
@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@S@?;,*:.,,:,;:,.,:,,,:%:++@@SS@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@
@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@S?++%;;;?:,:,,..:;:.;??*%@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@
@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@+#?*%@?,;;,,:.**?:+%?*#@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@
@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@##@#S@@;?%*+;+:SS#%%@?#@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@
@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@*%%*#++S#@@@#@#*@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@
@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@S@#?@++S@@@@@@@#@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@
@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@#%@??@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@
@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@S@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@
@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@
    //   ) )                   ||   / |  / /                       /__  ___/                     //   ) )                         
   //   / /   __      ___      ||  /  | / / ( ) __  ___ / __         / /  / __      ___         //___/ /  ___      ___     / ___  
  //   / / //   ) ) //___) )   || / /||/ / / /   / /   //   ) )     / /  //   ) ) //___) )     / ____ / //   ) ) //   ) ) //\ \   
 //   / / //   / / //          ||/ / |  / / /   / /   //   / /     / /  //   / / //           //       //   / / //       //  \ \  
((___/ / //   / / ((____       |  /  | / / /   / /   //   / /     / /  //   / / ((____       //       ((___( ( ((____   //    \ \
*/
pragma solidity ^0.8.9;

import "./Ownable.sol";
import "./Strings.sol";
import "./ERC721A.sol";

error MaxSupplyExceeded();

contract GenesisWolves is ERC721A, Ownable {
  using Strings for uint256;

  uint16 public constant MAX_SUPPLY = 50;

  uint8 public constant START_TOKEN_ID = 1;

  string private _baseUri;
  string public baseExtension = ".json";
  string public notRevealedUri;

  bool public revealed = true;

  
  constructor(
    string memory name,
    string memory symbol,
    string memory base
  ) ERC721A(name, symbol) {
    _baseUri = base;
  }

  // internal-----------------------------------------------------------

  function _startTokenId() internal pure override returns (uint256) {
    return START_TOKEN_ID;
  }

  // metadata ---------------------------------------------------------

  function tokenURI(uint256 tokenId)
    public
    view
    virtual
    override
    returns (string memory)
  {
    require(
      _exists(tokenId),
      "ERC721Metadata: URI query for nonexistent token"
    );
    
    if(revealed == false) {
        return notRevealedUri;
    }

    string memory currentBaseURI = _baseURI();
    return bytes(currentBaseURI).length > 0
        ? string(abi.encodePacked(currentBaseURI, tokenId.toString(), baseExtension))
        : "";
  }

  function _baseURI() internal view override returns (string memory) {
    return _baseUri;
  }

  function setBaseExtension(string memory _newBaseExtension) public onlyOwner {
    baseExtension = _newBaseExtension;
  }

  function setBaseUri(string memory newBase) external onlyOwner {
    _baseUri = newBase;
  }

  function setNotRevealedURI(string memory _notRevealedURI) public onlyOwner {
        notRevealedUri = _notRevealedURI;
  }

  function setRevealed(bool _state) public onlyOwner {
    revealed = _state;
  }

  // Owner mint / airdrop ---------------------------------------------------------------------

  function mint(uint256 quantity) external onlyOwner {
    if (totalSupply() + quantity > MAX_SUPPLY) revert MaxSupplyExceeded();

    _mint(msg.sender, quantity);
  }

  function airdrop(address[] memory recipients, uint256[] memory _tokenIds) external onlyOwner {
        for(uint i=0; i<recipients.length; i++){
            transferFrom(msg.sender, recipients[i], _tokenIds[i]);
        }
    }

}