// SPDX-License-Identifier: MIT
/*
&&&&&&&&&&&&&&&&&&&&&&&&&&&&&&&&&&&&&&&&&&&&&&&&&&&&&&&&&&&&&&&&&&&&&&&&&&&&&&&&&&&&&&&&&&&&&&&&&&&&
&&&&&&&&&&&&&&&&&&&&&&&&&&&&&&&&&&&&&&&&&&&&&&&&&&&&&&&&&&&&&&&&&&&&&&&&&&&&&&&&&&&&&&&&&&&&&&&&&&&&
&&&&&&&&&&&&&&&&&&&&&&&&&&&&&&&&&&&&&&&&&&&&&&&&&&&&&&&&&&&&&&&&&&&&&&&&&&&&&&&&&&&&&&&&&&&&&&&&&&&&
&&&&&&&&&&&&&&&&&&&&&&&&&&&&&&&&&&&###BBBGGGGBB####&&&&&&##########&&&&&&&&&&&&&&&&&&&&&&&&&&&&&&&&&
&&&&&&&&&&&&&&&&&&&&&&&&&&&&&&&&&#BGPJ7~~~~^^~!7J5PBB###BG5J??77?YPGB##&&&&&&&&&&&&&&&&&&&&&&&&&&&&&
&&&&&&&&&&&&&&&&&&&&&&&#####&&&##GY^:^!?!:J55Y?7~^^~7YPGY~:~!777^^^~7YGB##&&&&&&&&&&&&&&&&&&&&&&&&&&
&&&&&&&&&&&&&&&&###BBGGP555PPGGGGY:^YGBGJ?PB###BBG5?!^^~.~YGBBG7^J5J!^^7YGB##&&&&&&&&&&&&&&&&&&&&&&&
&&&&&&&&&&&&&##BPYJ7~~^^^~^^^^^~!: ?YPGBB###&&&&&###BPJ^ ^75GBBGGB#BBPJ!:^?PBBBBGGBB###&&&&&&&&&&&&&
&&&&&&&&&&&#BG5!:^^~JY5PGGGGPP5Y?!. :^~!JPGB##&&&&&&##GY^..:~YGB##&&##BG5?^:?Y7~^~~7?YGB##&&&&&&&&&&
&&&&&&&&&&#BP7:~JP7^5B##&&&&####BGJ!^::. .~?5PGB###B###BP?^.  !5G##&&&&##G5~ .~?YYJ7~:^75GB#&&&&&&&&
&&&&&&&&&#BG? 7PBBGGB###&&&&&&&###BBGY^~?7!^:.:7YPJ~YB##B5~77^ :?PB##&&&#B5^::^5GBG7^??^.7PB#&&&&&&&
&&&&###BBGP57 7Y55555PPPGGBB##BPYPB##BPGBBBG57^  :~75G###BGBBGY~ :?PBBBB#BP~.7.~PGBGGGBP?.~5G##&&&&&
###BPY?7~~^^^:..::::::..::~!7?J!^YGB####BPJPBBPY~. :~JGB##BGPBGP7  ~J!!PB#B5~.^ !PB##&#BGY^:YGB#&&&&
G5?~^^!7JYPPPPJ~~~~~^.~!77??!~:.:^!J5GBBB5!5B##BGY~.^:~5GBG?~PBBP7 .:7YGB#BG7::  ?PB#&&##G5~.?GB#&&&
~:~?5GBB######BBGGGG5JPBBBBBBGPY?~. .:!?5GBB##&##BP7:^^:?PBBBB##BP!.:.JGB##BPP5~ .JGB#&&&#BP~.YPGGGG
!~7GB#&&&&&&&##GGB######B5~JB####GY7::^^~7?JYYYYJ???!:~^:?YGB&&&#G5^:^.YG##BBBBP7 ~PB##&&#BGJ :~^^^^
P?7PB####BBBBBGJ:YGGBBBBBG5GB#G5J7!!!77?JYYY55555YYJ??77!!!7?J5GB#GY.^ 7PBGJ~5BBP~.J55GB#BG?:..J555J
GBGGP5YJ?!!~!!!~:^^^^~!?J555J?7!!77?JYY55555555555YYJJJJJ??777777JYY:::^5GBGPB#BP? !!~YB#BG7 ~ ?GBBP
?!~~^^:. .:~7?J???77!~:.:!7?????JJYYYYYYYYYYYYYY55555YJJYJJJ?????777~^^.YG##&##BG? ^5GB##BPJ::.!PBBP
.^~~^^^.!5GBBGGB####GY??JJJJJJJJJJJJJJJJYYYYYYYYYYY55555YYYYYYJ?J???J?!^75B##&#BP? .YG###GJ~!  7PB##
7~!7J5P5PB#BP!7G#&B5??JJJJJJJJ??????JJJJJJJYYYYYYY5555YYYYYYYYYJJJJ???JJ?7?5G##BP! :5G###BBPJ. ?PB#&
BBBBB#######BPGBGJ7?JJJJJJJ?????????????JJJJJYYYYY55YYYYYYYYYYYYJJJJJ???JJ?77J5PY: ^5GB5?PBG5^ JGB#&
&#BP7JGGP5YYJ??7^!?JJJJJ?????????????????????JJJJJJ????????????????7777!77777!!7!..?PBGY?PBG5^ YG##&
BG5J^:~^^^:::...^7?J?????????7777???????????????7!!7!!!!!!!!!!7!7?~.:~~~^^~^~~^~~~^YGB####BP7 :Y5GB#
~:..:!?Y5PGGP^.:~7??????????77~~77?????????????7~~~!~~^^~~~~!777??~^::^~^^^^~^^!77~?BB###BGJ. ~?^?GB
.:7YPGBB##&&J :^~???????????7!^^!77???????77777!~:7?~?!~~^!~!77777!^:7?~77^!^~~~777~YGB#BGY:. ?PGGBB
?PGBP!JB##&#~.:^7??????????77~~^~77??777?77777!~^!J?!J7!7^7~!77777~^!JJ!??~?^!!~777!!GGGGY^..^5B###G
GB##G5PBBBG5..:~??????????77!^^^~77??7???77777!^~?7!~?7!7~7~!!!!~~^^?7!~7?~?~7!~!~!~^YPPJ^..^5G###BP
####BG5?!~^:..:!??????????77!^^^!77?????7777!7!~~7J7!Y77?~7~~!7~~7~~!??~J?!J~7!^!!!~~JY!...!5GGPPBBG
BGPJ!:..:~7~..:7?????????777~^^^!777??777777~7!^~77YYYYYJ7J777~~77~7?!JYYYYY7??77!~7!~:..^JPBBP!7GBG
?~:^!?Y5GB#? .^7?????????777~^^^!777?777777!~77^^J!JY?7!77???!~777~7Y!7YJ7!77??7!~!?7..^?PGB##BBBBGY
:7YGB######J.:^~???????77777~^^^!7777777777~~77!~?77?~^!!7~!7~777?~^YJ!J!^~~7!~!~!7?!^7YJPB#&&##BP7.
PB###&&&#GJ~::^^7???77777777~:^^!777777777!^~777~!J!JJ?7????~7777!^:!Y!?J?77?77~~77?!YGY!PB###BPJ^ ~
GYJG####BG5?:.::~???77777777~:^^!777777777!^!777!~J?7?JYJ?7!!7!!7!~~~!7!?JJJ?7!!7???~P#B###BGP?^  7P
GJ?GBBPY7^..:.::~???77777777~:^^~!77777777!~77777!7!^!!!!~^!7~~YJ?JY?!~^^!!!~^~77???~G##BBPY!: .~YGB
##BGY!:  .~JY:.:^????77777~^^:::^^~77777777!77777!!^~7777!^^!75P???JYJ!^!777!~^!7??!^PG5J!:  :!YGB##
BG5!  :!JPB##?..~?????7777!~^::::^!77777777!77777~~~^~!!!~~!7?Y5JJJ??YJ~~!!~~^~!!!!^:!^. .^7YPBBPJ5B
57. ^JPBB####B^.~??????77777~::::!777777777!777777!!!!~~!!7?????JJJJ???7!~!!~!!7!!~~^::~?5GB###BP7YG
: ~YGB###B57PB5::!??????7777^:^:^!7777777777~!7777??????JYJYYYYYJYYYJ?7777J?7????777~JGY~YB#&&&##BG5
:?PB##&&#B5JY?^.::!7?????77!^^^:^77777777777!^~7777?????JY5P555Y5555JJJJ!!?7J5555Y7!!5#BGB#####BGY!.
5GBBB####G5?:  ^J?^:^~!7777~::^:~777777777777!^!7777???JY55P5555555YYY5Y7^7Y5??7JY???G###BBGPY?!^:~7
GBP!JGBBP?:  ^JPB#G!::^^^^~^^^^^^!777777777777777?????Y555YYYYYYYYYYYYYJ!~JY?~~?YJ?7?5YY?!~:..:~?5GG
GBG5PGGY^..:?PB##&&#J~!!!~~^^:^^!777777777???????????JY5YYYYYYYYYYYYJJJ??JYJJJYJ?7~:::..:^~7J5GBB###
PB###GY:..^YGB##&##BP~:~7?7!^:^77777777777????????JJJY5YYYYYJJJJJJJJJJJJJ?JJYY?7Y5YJ?Y5PGGBBBPPB##BP
G###B5^  ~5G##BPYPGY^ !Y77??7^:!?777777JYYJ???JYYJ?J5YJYP5JJ5PYJ5P5JGP?PG?PY!PJY##BY!PB##&##G77GBBP7
#BBGP7  ^5G###BY!5J: !PB#57???~^!?7777J5PPPP?J5PPPJ7GPJPG55YBG55BPY5B55B5~Y?~PJG&###B###&&##BBGPY7:
BP!~J: :YG##&##BGJ. ~PB#&&G77??~:!?777J55PP55Y5PPPP7PGJ5G5Y5BPYGG5JGPJPG!~P~?P?PGBBBBBBBGGP5Y?!:..^!
#BPY?  ?PB####BGY. :YG##&##P!7??^:!??77J5P5?J?Y5PYY7JGJ7G5??GY7P5??PJ~5J^JJ^J?!^^~~~~!~~^^^^~~:~JPGB
&#BP7 ~PGB5JPBG5~  7PB####BP!:7?7^^7???7?JJ77??JY????YJ7JJ?7J?7??7?77??7?77J!7JYJJJJJJJYY5PGGP!?GB#&
&#BP! 7PBB57PBGJ...YG##B5?5J.:^7?7^~7?????Y55Y??J55YJJPYJPYJP5?P5?G5?GY7GJ?GJ5B#####BGGB######BBBB##
&#B5^ ~5GB###BG?  ^5B##B5?57 ~.^7?!:~????5PPPG5J5PPGP?GP7PP7PP!P5!PY!PJ!G??PJG#&&&#BP~?G##BPPG5Y?77J
##BP~ .!!5B##BG?  !PB#&##BP!.! 7~7?~:7???55PP55J55PP5?5P7YP!5P~55~PJ~G77G!JJ7PBB###BBGGBGPY^:^^^^^:
GBBP~.::?PB##BGJ  ?PB#&&#BG7 ! ?57?7^~????Y5Y???JY5Y???5??5!JY7JJ!J?7J77?7?7^:~!7?JJYJ?7~:. .:^^~!7J
PBBP7.~ YGB#GJ~7. JGBBGGBBGY.^.!PGY7?77J??????????????JJJJJJJJJ??J??J??????77~:::::^^~~~!!7?JY5PGBBG
5PP5? .^YG##BPY5! ?GBBJ~YBBP! .^5B#GYJ?JJ????????????JJJJJJJJJJJJ?JJ??????7PBBGGGP7:YGBBBB#####BP7YP
^^^^^..YGB#&&##G5::JGBBGB##GY...?PB#&BP5JJJJJ???????JJJJJJJYYYJJJJJJJJJJ??5######BGPB##&&&&&&&#B5~!~
PPPP5J.~PB#&&&#BG? .75PG###BG?...JGB###BBPY???JJJJJJYYJJYYJJYJJJ?777?JY5GBBBBPYPGGBBB###&####BG5?~:!
&###BP7 7PB#&&&#B5^ .:^JG##BGY!. :YGBB5~YBBPJ^^7!7Y555557!5PGPPY?~^..:~!?JJJ?~.~~~~~!5GGGP5J?!^^~?5G
&&&&#BP! ?GB#&&#BGJ.~~.?PB#BY^7?: :YGBG5GB##B57^. :75BBBYJG#####BG?^?J7!~~^:...:^^^^ .^~^^^~!?YPBB##
&&&&&#BP7.!5GBBGGBP?.!!.?GB#BBBG57..?PBBBB###BGY!^. .!YGBBBBGGB##B5JPBBBBBGGP55YJJJ??^ ?5PGBB###&&&&
&&&&&&#BGJ::7Y7^JGBP7.~.~PB#&&&#BG5!.:7Y77GB##G?~Y5J~..^!?JJ^7PBB####&&&&&&&###BGBBGP~.YG##&&&&&&&&&
&&&&&&&##BP?~::~?Y5Y?^  7PB##&&&&#BGJ^ .:!YGB##BBB#BBP5?~:. .:^!?PB##&&&&&&&##BY:JPJ^:7PB#&&&&&&&&&&
&&&&&&&&&##BGPJ7!~^^~7J7:^JGB##&&&##BP?:...~5B##&&&&&##BBG5J!^:. ^JYPGGGGGGGP5J7^^^:75BB#&&&&&&&&&&&
&&&&&&&&&&&&####BBGGBBBG5!:^JPBB##BGBBBPJ!: !YGB###&&&&&###BBGPY! :^^^~~~~^^^^~!?J5GB##&&&&&&&&&&&&&
&&&&&&&&&&&&&&&&&&&&&&&#BG57^^~?5P?^JGBBGJ^.^:^7J5GBB###BP?5BBGY::YPPP55555PPGBB####&&&&&&&&&&&&&&&&
&&&&&&&&&&&&&&&&&&&&&&&&&##BG5?~^^^~7??7~:!5PPJ7~^^!7?Y557:?Y?~:^YG#########&&&&&&&&&&&&&&&&&&&&&&&&
&&&&&&&&&&&&&&&&&&&&&&&&&&&&##BBP5J7!777?5GB###BGPY?7!~^^^~^^!?5GB#&&&&&&&&&&&&&&&&&&&&&&&&&&&&&&&&&
&&&&&&&&&&&&&&&&&&&&&&&&&&&&&&&&###########&&&&&&####BBGGGGGGB###&&&&&&&&&&&&&&&&&&&&&&&&&&&&&&&&&&&
&&&&&&&&&&&&&&&&&&&&&&&&&&&&&&&&&&&&&&&&&&&&&&&&&&&&&&&&&&&&&&&&&&&&&&&&&&&&&&&&&&&&&&&&&&&&&&&&&&&&
&&&&&&&&&&&&&&&&&&&&&&&&&&&&&&&&&&&&&&&&&&&&&&&&&&&&&&&&&&&&&&&&&&&&&&&&&&&&&&&&&&&&&&&&&&&&&&&&&&&&
&&&&&&&&&&&&&&&&&&&&&&&&&&&&&&&&&&&&&&&&&&&&&&&&&&&&&&&&&&&&&&&&&&&&&&&&&&&&&&&&&&&&&&&&&&&&&&&&&&&&
*/
pragma solidity ^0.8.4;

import "./ERC721.sol";
import "./ERC721Enumerable.sol";
import "./ERC721Burnable.sol";
import "./Ownable.sol";
import "./Pausable.sol";

contract SkullGuy is ERC721, ERC721Enumerable, Ownable, Pausable {
    using Strings for uint256;

    string public baseURI;
    string public baseExtension;
    uint256 public maxSupply = 1000;
    uint256 public price = 33000000000000000; // 0.033 eth in wei

    event Minted(uint256 tokenId);

    constructor(
        string memory _name,
        string memory _symbol,
        string memory _baseUri,
        string memory _baseExtension
    ) ERC721(_name, _symbol) {
        baseURI = _baseUri;
        baseExtension = _baseExtension;
    }

    function _baseURI() internal view virtual override returns (string memory) {
        return baseURI;
    }

    function mintTo(address to) external onlyOwner {
        uint256 supply = totalSupply();
        uint256 tokenId = supply + 1;
        require(supply < maxSupply, "SG: No more NFTs remaining");
        _safeMint(to, tokenId);
        emit Minted(tokenId);
    }

    function mint() external payable whenNotPaused {
        uint256 supply = totalSupply();
        uint256 tokenId = supply + 1;
        require(msg.value == price, 'SG: Price not paid');
        require(supply < maxSupply, "SG: No more NFTs remaining");
        _safeMint(msg.sender, tokenId);
        emit Minted(tokenId);
    }

    function withdraw() external onlyOwner {
        (bool success,)= owner().call{value: address(this).balance }("");
        require(success, "SG: Withdraw failed!");
    }

    function setPause(bool _paused) public onlyOwner {
        if (_paused)
            _pause();
        else _unpause();
    }

    function tokenURI(uint256 tokenId)
        public
        view
        virtual
        override
        returns (string memory)
    {
        require(_exists(tokenId), "SG: tokenId provided doesn't exist");


        string memory currentBaseURI = _baseURI();
        return
            bytes(currentBaseURI).length > 0
                ? string(
                    abi.encodePacked(
                        currentBaseURI,
                        tokenId.toString(),
                        baseExtension
                    )
                )
                : "";
    }

    function setBaseURI(string memory _newBaseURI) external onlyOwner {
        baseURI = _newBaseURI;
    }

    function setBaseExtension(string memory _newBaseExtension)
        external
        onlyOwner
    {
        baseExtension = _newBaseExtension;
    }

    function _beforeTokenTransfer(
        address from,
        address to,
        uint256 tokenId
    ) internal override(ERC721, ERC721Enumerable) {
        super._beforeTokenTransfer(from, to, tokenId);
    }

    function supportsInterface(bytes4 interfaceId)
        public
        view
        override(ERC721, ERC721Enumerable)
        returns (bool)
    {
        return super.supportsInterface(interfaceId);
    }
}
