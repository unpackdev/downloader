// SPDX-License-Identifier: MIT

/*
Launching at 21 UTC

-https://t.me/tomaccoerc
-LIQ: 3k init liq
-TAX: 1/25 at start 1/1 after launch
-TOKENOMICS: 96% liq, 4% treasury

WHY SHOULD I BUY TOMACCO??

-Oh, Daddy! It tastes like Grandma! I want more!
-Older than pepe
-TOMACCOOOOO ðŸ®          

                                                    ..:::::::.                                      
                                                  ~????????????7!^.                                 
                                               .^??77777777?J777???7~.                              
                                             :???JJ777777777?YJ?7777??7:                            
                                            :Y77J?J7?7J7777777?JJJJ777?Y.                           
                                            7J777JPYGYGY?77777777777777Y:                           
                          ......            J?77J555PJYPJJ?777777777777Y:                           
                       .7????????77!~^::.. .Y7777??J??????777777777777?Y                            
                       ~Y77777777777???JJJ??YJJJJJJJJJJJJJJJJJJJJJJJJJJY77777!~^:.                  
                       .?J77777JJ?777777?JP5YJYPJ777777777777777777??JJJJJJJJJ?????7!~:.            
                         ~J?7777?JJJJJJ??Y5J??Y???7777777777???JY5YJ?7777777777!77777???7~:         
                          .!J?77?5?J5J5Y???YJ???????????????7!!~~!!7J?777?Y7J?YYJJ7777777???.       
                            :7J??JPYY55YP??Y!~~~~~~~~~~~~~~~~~~~~~~~~Y577?YPYGY55J77777777!J7       
                              :!?JJY?JYYJY?!~~~~~~~~~~~~~~~~~~~~~~~~^YJ777?PY5PJY777777777?J^       
                                .^!???7!!YY7~~~~~~~7?7?!~~~~~~~~~~~~~Y77777JJ?J77777777?J?~.        
                                   .^!??JJ~~~~~~~~~^75~~~~~~~~~~!J~~~Y77777777777777???!:           
                                       .?J!!!!!!!!7!?Y!!~~~!!!77!Y!!5575777777?????7~:              
                                        :J..^.  .:^~7Y. ^^     .:Y!YJPYPY???7!~^^:                  
                                         ^?YBY~?7!!!~!J?Y57!!!!7Y?!J~Y5~!!..                        
                                          ??~7J5!~~!!!77!!!~~~~~!^~7?J~  .                          
                                          .JY???JJJJJJ??JJJJJ?!~^~~!J7Y:                            
                                          ^Y?7?7777777777777??JJ?~~77?!                             
                                        .?J?7????????????7777777?Y!Y^                               
                                        .YJ???7???????????JJJJJ?7?YJ~                               
           .^~~~^^..:.                   :!77?Y?77Y?77!Y!~!J..?J77YY!                               
        .~YPGGGGBPP5GP7!:                     !7  !!   7^ :J~?J?7?Y7?.                              
       :YGPPPPPPPGGGGGGGGJ                    7P?7?Y7??JJ?JJ??7?JJ~!PJ?7.                           
      :5GPPG55GPPPPPPPPPPB!                 .7JJP5?7???777777?JJ!~7JJY?JY:                          
     .JYGPGY~^?GPPPP5PGPPGJ             ^7?YYJ?YYYJJJ?????JJJ?77???!!P???5.                         
     .Y~?5G7~~~PGPP!^~PPPB7          .!JJJ5Y??57!!?5YYYJJJJJ???77!!!?Y???Y7                         
      77^^??^~~!PB7^~^JBGJ.        ^7JJ?J5???557!JP55YG?!!!!!!!!!!!?P?????JJ:^....                  
      .J!^!?~~~~~7~~~~~Y5:      .~?J????J5?7YJ!JYYPYYY5G7!!!!!77???557?J5PGGBBGPP55Y?!:             
       :?7~^~~~~~~~~~~~^?57:  :!JJ???????Y5JY!!!?!?G5557Y???????7!!P??5GGGBPGPGBPPPPPGGJ.           
         ~Y?7!~~~~~~~~~~JY?Y~?JJ??????JYYJJY!!!!!!?G5G!!!777!!!!!!JY75GPPPGGGGGPPPPPPPPGJ           
         JJ5J~~~~~~~~!?JJ??PJ????????5J???57!!!!!7P5YP!!!!!!!!!!!!5??GPPPPPPPPPPPPPPPPPGG~.         
        ^57?Y7!!77?JJJ????YP????????J57??P7!!!!!!55Y5P!!!!!!!!!!!JY??PGPPPPPPPPPPPPGPPG5!!J.        
        .JJJ?JJJJJ?????????JPYYY????Y57?5J!!!!!!JPYYYP!!!!!!!!!!!5????PGYYPGPPPG?~~JGG5~^~Y.        
          !5????????????????J5J?Y?J5557JY!!!!!!7PYYYYP!!!!!!!!!!JY7???JY^^!YPGGG!~~!G?~^^?5^        
          .5??????????????????5?7J5?YY?57!!!!!!55YYYYP!!!!!!!!!!5J????YP7~^^!?Y7~~~J7^~!?PYY^       
           ?J???????????????????Y5?75Y57!!!!!!JPYYYY5P!!!!!!!!!7P????5Y5YJJ!^^^~~~~~~^7P?JP?Y       
           :5?????????????????7Y5???Y57!!!!!!7PYYYYYYP!!!!!!!!!5J???5JJ57?5J!~~~~~~^~!YJJPY75!      
            !5????????????????J5????57!!!!!!!55YYYYYYP!!!!!!!!75???5J7?PJ??JJJ??777?JY?JY?5??Y      
             ?Y??????????????J5????5?!!!!!!!JPYYYYYYYP!!!!!!!!YJ??5J????Y5????????????????JJ?5.     
              ?Y?????????????P????5?!!!!!!!7PYYYYYYYYP!!!!!!!!5?7Y57?????P???????????????????5.     
               ~?JJ?????????5J???5?!!!!!!!!YPYYYYYYY5P!!!!!!!75??P???????5Y?????????????????JJ      
                 :!7?JJJJJ?5Y7??57!!!!!!!!!?PYYYYYY55?!!!!!!!!5?5Y????????YY???????????????JJ.      
                     .:::.~Y???57!!!!!!!!!!!?P5YY55J!!!!!!!!!!5?P??????????J5YJ???????????Y?.       
                         .5???5J!!!!!!!!!!!!!7Y55J!!!!!!!!!!!!5J?????????????JYYYYJJJJJJ57^         
                         7Y???BP5YJ?77!!!!!!!!!7!!!!!!!!!!!!!!JY7??????????????????JJJJ?Y!          
                        .5??7PBPPGGGGPP55Y?????77777777777????YP?????????????????????????5.         
                        ~Y??JBP5PGGGPPPPBJ7777????JGPPPPGGGGGGPBY7???????????????????????Y?         
                        7J??5Y5??JYY5PPPGJ??7777777GGPPPPPPPGGGGGJ????????????????????????5.        
                        ?J??P?5J7????????JJJJJJJJJY5555555555YYJJ5J???????????????????????Y~        
                        7Y??5?JP??????????????????????????????????5J??????????????????????J?        
                        ^57????Y5??????????????????????????????????YY??????????????????????J        
                         JJ????755??????????????????????????????????Y5????????????????????J?        
                         .YJ????PY5J??????????????????????????????????5Y??????????????????5^        
                          .?Y???P??JJ??????????????????????????????????JYY???????????????Y7         
                            ^?JJP????????????????????????????????????????JYYYJ?????????JJ!          
                              .:YJ?????????JJ???????????????????????????????JJYYYYJJJJ?~.           
                                JJ??????????YYJ??????????????????????????????????5:.:.              
                                ?Y????????????JYYYJJ?????????????????????????????5.                 
                                :~~!77777777777!!!75~~~~!!!!!777777??????????777!7.                 
                                     ........      .            ..............                      
                                                                                                    
                                                                                                   

~~~^^~~~~^~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~^^~7J555J!~^^^!?Y5P55J7~^^~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~^~~~~~~~~~^^^
~~~^~~~~~~~^^~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~^^~~~~^^^^^^7G#B5J??5B#55BBPJ7!!7YG#G7^~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~^~~^~~~^~~~~~~~~~^^^
^~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~^7G####BG5?~5&Y.       ~GB~         ^&&?^^~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~^~~~~~~~~~~^^^
~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~^J@5:...^!YB#@?                       ~@&~^^^~~~~~^^^~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~^^^
~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~^#&         ..                         G@57PBBGGGGP5?~^~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~^^
~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~^B&.                                   .B@&Y^.....:!P#5~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~^^
~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~^?@?                                     :.          ~@#!^~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~^
~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~^~77B@!                                                 P@P^~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~^^
~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~^!G&BP5GP                                                 J@B^~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~^^
~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~^?@Y                                                     .&@J^~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~^
~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~5G:                                                    G@#~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~^^
~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~^?&G.                                                  .&&7~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~^^
~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~^P@P.                                  .~YGBBBBBGY7:    Y@5^~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~^^^
~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~^^^G@:    .:..                       :~7P&@&#GP555PG#&#~  5@B7!!~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~
~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~7JPB#&@G.~5#&####BP?^:75J~.   .?BB5JY5B&#BBPYJ??YPBBGGPP#@!~@###&&##BP5J?!~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~^^
~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~!7YPB###GP5YP@&#PY55YYY5PB#&#BB#####&&#BBBBG5YJJJJJJ5##5!^^!JG#&&&@5?JJY5PGB##&&##G5J7!~~~~~~~~~~~~~~~~~~~~~~~~~~~~^^
~~~~~~~~~~~~~~~~~~~~~~~~~~~~!7YG###BG5YJJJJJJJ&&JY#&#BBBG5YJJJJJJYY55YJJJJJJJJJYYYYJG@P.       7&@@#JJJJJJJJJJJJY5PGB#&&#BPY7~~^~~~~~~~~~~~~~~~~~~~~^^
~~~~~~~~~~~~~~~~~~~~~~~~~75B###BPYJJJJJJJJJJJJ&@##?.  .:7P##PJJJYYYJJJJJJYJYYYYYYYY##~J.     .7?.^&&5JJJJJYJJJJJJJJJJJJY5GB#&&#PJ!~~~~~~~~~~~~~~~~~~~~
~~~~~~~~~~~~~~~~~~~~~~?P#&BPYJJJJJJYJJJJJJJJ??B@B.        .7#&PJJYYYYJJJJJJYYYYYJY&G. :7     ~^   .#&YJJJJJJJJJJJJJ?J??J????J5G#&&#P?!~~~~~~~~~~~~~~~~
~~~~~~~~~~~~~~~~~~!?P#&#PJ?JJJJJJJJJJJJJ??JYB&@&^            ?&BYJYYYJJJJYJYYYYYY#G    .           ^@#P5YJJJJYYY5PGB##BBG5YJJJ??JYG#&&BJ~~~~~~~~~~~~^^
~~~~~~~~~~~~~~~!JB##G5J??JY5PP5YJYYYY55PB#&@@@@?~!!~.         ~@&YJYJYYYJYYJYYJJ#&7^^.  .!YP7      .&@@@&&&&&@@@@@@@@@@@@@@&&&##GGP5PB@@Y^~~~~~~~~~~^^
~~~~~~~~~~~~~?G##GY??JYP#&&@@@@@&&&@@@@@@@@@@@@^    .~: .:^^~~!Y&&5JYYYYYJYJYJJ##:....  ?@@@#.     :@7.7@@##&&&&@@@@@@@@@@@@@@@@@@@&BP57~~~~~~~~~~~~^^
~~~~~~~~~~~~B&G5YY5GB&@@@@@@@@@@@@@@@@@@@@&&@@@P   ..GB.......  :&@PYJYYYYYJJJ##:      ~:^!~..7:   #G   &&7~~~!!7?J5PGGBBBBBGGP5Y?7!~~~~~~~~~~~~~~~~^^
~~~~~~~~~~~~YGB#&@@@@@@@@@@@@@@@@@@@@@&BPJP@G^P@J:J:  .   .      .P@GYYYYJJYJY&G      :B.     .^^?#B.   G@Y~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~^^
~~~~~~~~~~~~~~~!7?Y5PGGBB###BBBBGP5Y?7!~^P@7   5@&~      .?:      ^@@&&&GJJJJJ5&G.    7Y       :5#?     5@5~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~
~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~Y@5     7&&Y.     :P:  .7#@@B55YYYYYJJ?5&&GJ!^Y5.::^!Y#B!.      #@J~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~^
~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~^B@^      .!#@#PJ!!!P#5B&&#&#YJJYYYYYJJJJY##B######&&@@B.        G@P~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~
~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~^B@~         ?@&&&&&&&BG5YJYYYYYYYYYYJJJJJ#@YJJJJYJYB@5          5@#~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~
~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~^5@J          ?@@&&&&#5JYYYYYYYYYYYJJJJYYJY&#YJJJJY&@Y            Y@P~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~
~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~J@P           ~&@#BBGPYJYYYYYYYYYYYYYYYYJJY@#JJJJ#@Y              &@7~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~
~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~#&:            P@&GPPG55P5YYYYYYYYYYYYYJYG&@@&#YY@B               #&!~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~
~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~B&.             .&@P?Y&&##BYYYYYYYYYYYYYYJYY5B@@&&B                &@?~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~
~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~J@!               ?@BJ#&YJYYJYYYYYYYYYYYJJJJGBB55G&B!               :B&Y~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~
~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~^P@:                P@PP&&&&&5JYYYYYYYYYYJJY#&&@P??J#@B:               P@Y~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~
~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~Y@?               ?&@#JJ555&@PJJYYYYYYYJY#@&YBGPGG55G&&^              ~@#~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~
~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~#@!             J@GYYJYJJ?J#@GJJJYYJJJ5&@&BG&@BJY&@&5@#              7@G~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~
~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~^G@P            .@&YJP#####GYG&BGP55PG#@@@@&G?#5..G@@G&G              G@J~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~
~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~J@Y             .&@B#@&~^~!P&BPGBGGGGB&@@&7:..!@BB@@@&G.              ?@G~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~
~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~^B@.              .~7?G@G....#@&PPPB&&Y?!B@?...:@@JG5:.                 5@B7~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~
~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~^P@7                   !@7:.!@@?...B@&:..^@#!~!5@5                       :P@G~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~
~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~^5@B                    ~PP5P@&:..!@@@~...&@P5J?^                          J@P~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~
~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~^P&?                          7BPJJB!7@G!!J@P                               .@&~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~
~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~^5@^                             ...   :?Y5Y7.                                &@!~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~
~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~!@5                                                                           B@G!~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~
~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~7@?                                                                            7@@J~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~
~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~5@J                                                                             ~@@J~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~
~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~!#&?.                                                                              ^@&7~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~
~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~7&G.                                                                                 Y@G~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~
~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~7@G                                                                                   .@@P~~~~~~~~~~~~~~~~~~~~~~~~~~~~~
~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~^G@!                                                                                    :&@5~~~~~~~~~~~~~~~~~~~~~~~~~~~~
~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~^P@?                                                                                     5@B~~~~~~~~~~~~~~~~~~~~~~~~~~~~
~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~J@G                                                                                     7@&!~~~~~~~~~~~~~~~~~~~~~~~~~~~
~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~!@&.                                                                                    ?@&!~~~~~~~~~~~~~~~~~~~~~~~~~~~
~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~&@~                                                                                    5@#~~~~~~~~~~~~~~~~~~~~~~~~~~~~
 */

pragma solidity ^0.8.12;

import "./Context.sol";
import "./IERC20.sol";
import "./SafeMath.sol";
import "./Ownable2Step.sol";

interface IUniswapV2Factory {
    function createPair(address tokenA, address tokenB) external returns (address pair);
}

interface IUniswapV2Router02 {
    function swapExactTokensForETHSupportingFeeOnTransferTokens(
        uint amountIn,
        uint amountOutMin,
        address[] calldata path,
        address to,
        uint deadline
    ) external;

    function factory() external pure returns (address);

    /* solhint-disable-next-line func-name-mixedcase */
    function WETH() external pure returns (address);

    function addLiquidityETH(
        address token,
        uint amountTokenDesired,
        uint amountTokenMin,
        uint amountETHMin,
        address to,
        uint deadline
    ) external payable returns (uint amountToken, uint amountETH, uint liquidity);
}

interface ILiqPair {
    function getReserves() external view returns (uint112 _reserve0, uint112 _reserve1, uint32 _blockTimestampLast);
}

contract TomaccoERC is Context, IERC20, Ownable2Step {
    using SafeMath for uint256;

    address DEAD = 0x000000000000000000000000000000000000dEaD;
    address ZERO = 0x0000000000000000000000000000000000000000;

    mapping(address => uint256) private _balances;
    mapping(address => mapping(address => uint256)) private _allowances;

    uint256 public _buyTax = 1;
    uint256 public _sellTax = 25;

    address payable public _devWallet; //dev

    uint8 private constant _DECIMALS = 9;
    uint256 private constant _SUPPLY = 1000000 * 10 ** _DECIMALS;
    string private constant _NAME = "TOMACCO";
    string private constant _SYMBOL = "$TOMACCO";
    uint256 public _maxTxAmount = _SUPPLY.div(100); //1%
    uint256 public _maxWalletSize = _SUPPLY.div(50); //2%
    uint256 public _taxSwapThresholdDenom = 200;//_SUPPLY.div(200); //0.5%
    uint256 public _maxTaxSwapDenom = 100;//_SUPPLY.div(100); //1%
    bool public limitsEnabled = true;
    mapping(address => bool) public _exemptLimitsTaxes;

    IUniswapV2Router02 private uniswapV2Router;    
    address private uniswapV2RouterAdr = 0x7a250d5630B4cF539739dF2C5dAcb4c659F2488D;
    address private uniswapV2Pair;
    bool private tradingOpen;
    bool private inSwap = false;
    bool private swapEnabled = false;

    modifier lockTheSwap() {
        inSwap = true;
        _;
        inSwap = false;
    }

    constructor() {
        _devWallet = payable(_msgSender());
        _balances[_msgSender()] = _SUPPLY;
        _exemptLimitsTaxes[_msgSender()] = true;
        _exemptLimitsTaxes[_devWallet] = true;
        _exemptLimitsTaxes[address(this)] = true;
        _approve(address(this), uniswapV2RouterAdr, type(uint256).max);

        uniswapV2Router = IUniswapV2Router02(uniswapV2RouterAdr);
        uniswapV2Pair = IUniswapV2Factory(uniswapV2Router.factory()).createPair(address(this), uniswapV2Router.WETH());

        emit Transfer(address(0), _devWallet, _SUPPLY);
    }

    function name() public pure returns (string memory) {
        return _NAME;
    }

    function symbol() public pure returns (string memory) {
        return _SYMBOL;
    }

    function decimals() public pure returns (uint8) {
        return _DECIMALS;
    }

    function totalSupply() public pure override returns (uint256) {
        return _SUPPLY;
    }

    function balanceOf(address account) public view override returns (uint256) {
        return _balances[account];
    }

    function transfer(address recipient, uint256 amount) public override returns (bool) {
        _transfer(_msgSender(), recipient, amount);
        return true;
    }

    function allowance(address owner, address spender) public view override returns (uint256) {
        return _allowances[owner][spender];
    }

    function approve(address spender, uint256 amount) public override returns (bool) {
        _approve(_msgSender(), spender, amount);
        return true;
    }

    function transferFrom(address sender, address recipient, uint256 amount) public override returns (bool) {
        _transfer(sender, recipient, amount);
        _approve(
            sender,
            _msgSender(),
            _allowances[sender][_msgSender()].sub(amount, "ERC20: transfer amount exceeds allowance")
        );
        return true;
    }

    function _approve(address owner, address spender, uint256 amount) private {
        require(owner != address(0), "ERC20: approve from the zero address");
        require(spender != address(0), "ERC20: approve to the zero address");
        _allowances[owner][spender] = amount;
        emit Approval(owner, spender, amount);
    }

    function _transfer(address from, address to, uint256 amount) private {
        require(from != address(0), "ERC20: transfer from the zero address");
        require(to != address(0), "ERC20: transfer to the zero address");
        require(amount > 0, "Transfer amount must be greater than zero");

        uint256 taxAmount = 0;
        if(!_exemptLimitsTaxes[to] && !_exemptLimitsTaxes[from]) {
            // Tx limit, wallet limit //
            if (limitsEnabled) {
                if (to != uniswapV2Pair) {
                    uint256 heldTokens = balanceOf(to);
                    require(
                        (heldTokens + amount) <= _maxWalletSize,
                        "Total Holding is currently limited, you can not buy that much."
                    );
                    require(amount <= _maxTxAmount, "TX Limit Exceeded");
                }
            }

            // Buy tax //
            if(from == uniswapV2Pair) {
                taxAmount = amount.mul(_buyTax).div(100);
            }

            // Sell tax //
            if (to == uniswapV2Pair) {
                taxAmount = amount.mul(_sellTax).div(100);
            }

            // Swap and send fee //
            (uint256 taxSwapThreshold, uint256 maxTaxSwap) = getSwapSettings();
            uint256 contractTokenBalance = balanceOf(address(this));
            if (!inSwap && to == uniswapV2Pair && swapEnabled && contractTokenBalance > taxSwapThreshold) {
                swapTokensForEth(min(contractTokenBalance, maxTaxSwap));
                uint256 contractETHBalance = address(this).balance;
                if (contractETHBalance > 0) {
                    sendETHToFee(address(this).balance);
                }
            }

            // Apply tax //
            if (taxAmount > 0) {
                _balances[address(this)] = _balances[address(this)].add(taxAmount);
                emit Transfer(from, address(this), taxAmount);
            }
        }

        _balances[from] = _balances[from].sub(amount);
        _balances[to] = _balances[to].add(amount.sub(taxAmount));
        emit Transfer(from, to, amount.sub(taxAmount));
    }

    function getSwapSettings() public view returns(uint256, uint256) {
        uint256 liqPairBalance = balanceOf(uniswapV2Pair);
        return(liqPairBalance.div(_taxSwapThresholdDenom), liqPairBalance.div(_maxTaxSwapDenom));
    }

    function min(uint256 a, uint256 b) private pure returns (uint256) {
        return (a > b) ? b : a;
    }

    function swapTokensForEth(uint256 tokenAmount) private lockTheSwap {
        if(tokenAmount == 0) return;
        address[] memory path = new address[](2);
        path[0] = address(this);
        path[1] = uniswapV2Router.WETH();     
        uniswapV2Router.swapExactTokensForETHSupportingFeeOnTransferTokens(
            tokenAmount,
            0,
            path,
            address(this),
            block.timestamp
        );
    }

    /** 
     *@notice Send eth to tax wallets 
     */ 
    function sendETHToFee(uint256 amount) private returns(bool) {
        return _devWallet.send(amount);
    }

    // #region ADMIN

    function openTrading() external payable onlyOwner {
        require(!tradingOpen, "trading is already open");
        uniswapV2Router.addLiquidityETH{value: msg.value}(
            address(this),
            balanceOf(address(this)),
            0,
            0,
            owner(),
            block.timestamp
        );
        IERC20(uniswapV2Pair).approve(address(uniswapV2Router), type(uint).max);
        swapEnabled = true;
        tradingOpen = true;
    }

    function AddWalletExemptLimitsTaxes(address _wallet, bool exempt) external onlyOwner {
        _exemptLimitsTaxes[_wallet] = exempt;
    }

    function enableLimits(bool enable) external onlyOwner {
        limitsEnabled = enable;
    }

    function unstuckETH() external onlyOwner {
        payable(msg.sender).transfer(address(this).balance);
    }

    function unstuckToken(address _token) external onlyOwner {  
        require(_token != address(this), "You can unstuck the own token");   
        IERC20(_token).transfer(msg.sender, IERC20(_token).balanceOf(address(this)));
    }

    function manualSwap() external onlyOwner {
        uint256 tokenBalance = balanceOf(address(this));
        if (tokenBalance > 0) {
            swapTokensForEth(tokenBalance);
        }
        uint256 ethBalance = address(this).balance;
        if (ethBalance > 0) {
            sendETHToFee(ethBalance);
        }
    }

    function reduceFee(uint256 newbuyFee, uint256 newSellFee) external onlyOwner {
        require(newbuyFee <= _buyTax, "Buy tax only can be reduced");
        require(newSellFee <= _sellTax, "Sell tax only can be reduced");
        require(newbuyFee >= 1, "Buy tax can not be lower than 1%");
        require(newSellFee >= 1, "Sell tax can not be lower than 1%");
        _buyTax = newbuyFee;
        _sellTax = newSellFee;        
    }

    // #endregion

    /* solhint-disable-next-line no-empty-blocks */
    receive() external payable {}
}
