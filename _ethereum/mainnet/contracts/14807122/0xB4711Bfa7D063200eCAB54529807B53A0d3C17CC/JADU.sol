//SPDX-License-Identifier: MIT
pragma solidity ^0.8.10;

// °°°°°°°°°°°°°°°°°°°°°°°°°°°°°°°°°°°°°°°°°°°°°°°°°°°°°.°°°°°°°°°°°°°°°°°°°°°°°°°°°°°°°°°°°°°°°°°°°°°°
// °°°°°°°°°°°°°°°°°°°°°°°°°°°°°°°°°°°°°°°°°°°°°°°°°°°....°°°°°°°°°°°°°°°°°°°°°°°°°°°°°°°°°°°°°°°°°°°°°
// °°°°°°°°°°°°°°°°°°°°°°°°°°°°°°°°°°°°°°°°°°°°°°°°°..°oo° °°°°°°°°°°°°°°°°°°°°°°°°°°°°°°°°°°°°°°°°°°°°
// °°°°°°°°°°°°°°°°°°°°°°°°°°°°°°°°°°°°°°°°°°°°°°°. °ooooo* °°°°°°°°°°°°°°°°°°°°°°°°°°°°°°°°°°°°°°°°°°°
// °°°°°°°°°°°°°°°°°°°°°°°°°°°°°°°°°°°°°°°°°°°°°°..*ooooooo*..°°°°°°°°°°°°°°°°°°°°°°°°°°°°°°°°°°°°°°°°°
// °°°°°°°°°°°°°°°°°°°°°°°°°°°°°°°°°°°°°°°°°°°°. *ooooooooooo..°°°°°°°°°°°°°°°°°°°°°°°°°°°°°°°°°°°°°°°°
// °°°°°°°°°°°°°°°°°°°°°°°°°°°°°°°°°°°°°°°°°°° °.*oooooooooooo..°°°°°°°°°°°°°°°°°°°°°°°°°°°°°°°°°°°°°°°
// °°°°°°°°°°°°°°°°°°°°°°°°°°°°°°°°°°°°°°°°°..o@O.°oooooooooooo.°°°°°°°°°°°°°°°°°°°°°°°°°°°°°°°°°°°°°°°
// °°°°°°°°°°°°°°°°°°°°°°°°°°°°°°°°°°°°°°°. *#@#@#.°oooooooooo*. .°°°°°°°°°°°°°°°°°°°°°°°°°°°°°°°°°°°°°
// °°°°°°°°°°°°°°°°°°°°°°°°°°°°°°°°°°°°°° .O@@#@#@#..oooooooo°.oO° °°°°°°°°°°°°°°°°°°°°°°°°°°°°°°°°°°°°
// °°°°°°°°°°°°°°°°°°°°°°°°°°°°°°°°°°°°°.*#@##@@@#@#°.ooooo*.°O###* °°°°°°°°°°°°°°°°°°°°°°°°°°°°°°°°°°°
// °°°°°°°°°°°°°°°°°°°°°°°°°°°°°°°°°°°° O@##@@@@@@#@@°.ooo°.o######* °°°°°°°°°°°°°°°°°°°°°°°°°°°°°°°°°°
// °°°°°°°°°°°°°°°°°°°°°°°°°°°°°°°°°°°° .#@#@@@@@@@##@*.*.°O########o °°°°°°°°°°°°°°°°°°°°°°°°°°°°°°°°°
// °°°°°°°°°°°°°°°°°°°°°°°°°°°°°°°°°°°....#@#@@@@@@@#@@. *###########o °°°°°°°°°°°°°°°°°°°°°°°°°°°°°°°°
// °°°°°°°°°°°°°°°°°°°°°°°°°°°°°°°°°°°..°..#@#@@@@#@@O.°*.o###########o °°°°°°°°°°°°°°°°°°°°°°°°°°°°°°°
// °°°°°°°°°°°°°°°°°°°°°°°°°°°°.....°°..°°..#@#@##@#*.*OO* o###########o °°°°°°°°°°°°°°°°°°°°°°°°°°°°°°
// °°°°°°°°°°°°°°°°°°°°°°°°°°. °oo*....°°°°..#@#@@O..oOOOOo *#########O°...°°°°°°°°°°°°°°°°°°°°°°°°°°°°
// °°°°°°°°°°°°°°°°°°°°°°°°°..*ooooo*°. .°°*..#@#*.*OOOOOOOo.*#######o..oo..°°°°°°°°°°°°°°°°°°°°°°°°°°°
// °°°°°°°°°°°°°°°°°°°°°°°..°oooooooo°.o*...°..O°.oOOOOOOOOOo.°#####* *oooo° °°°°°°°°°°°°°°°°°°°°°°°°°°
// °°°°°°°°°°°°°°°°°°°°°°..*ooooooo*.°O###o°... .OOOOOOOOOOOOO.°##O..ooooooo° °°°°°°°°°°°°°°°°°°°°°°°°°
// °°°°°°°°°°°°°°°°°°°°°. °ooooooo°.o#######O*.  *OOOOOOOOOOOOO°°o.°ooooooooo* °°°°°°°°°°°°°°°°°°°°°°°°
// °°°°°°°°°°°°°°°°°°°°°°.°.°*oo*..O#########O.°° °*OOOOOOOOOOOO. *ooooooooooo*..°°°°°°°°°°°°°°°°°°°°°°
// °°°°°°°°°°°°°°°°°°°°°°.Oo°.°*.*##########* *ooo°..*oOOOOOOOo.°°.*ooooooooooo*..°°°°°°°°°°°°°°°°°°°°°
// °°°°°°°°°°°°°°°°°°°°°°.*OOo° .O########O°.ooooooo*..°oOOOO* °oo* *ooooooooooo* °°°°°°°°°°°°°°°°°°°°°
// °°°°°°°°°°°°°°°°°°°°°°.°OOOO°...o#####o.°ooooooooooo. *OO°.*oooo* *ooooooooo° .°°°°°°°°°°°°°°°°°°°°°
// °°°°°°°°°°°°°°°°°°°°°°°.OOOO°°o°..*O#* *ooooooooooo°..°o..ooooooo* °ooooooo°..°°°°°°°°°°°°°°°°°°°°°°
// °°°°°°°°°°°°°°°°°°°°°°°.oOOOo.ooo*....oOoooooooooo..°°..°oooooooooo.°ooooo.°o.°°°°°°°°°°°°°°°°°°°°°°
// °°°°°°°°°°°°°°°°°°°°°°°.*OOOO.*oooo* ..*oooooooo* .°°° *oooooooooooo.°oo*.*@°.°°°°°°°°°°°°°°°°°°°°°°
// °°°°°°°°°°°°°°°°°°°°°°°.°OOOO°°ooooo.*°..°ooooo° °°°°°.*ooooooooooooo.°* o@O °°°°°°°°°°°°°°°°°°°°°°°
// °°°°°°°°°°°°°°°°°°°°°°°°.OOOO*.ooooo.°oo*...**..°°°°°°. *ooooooooooooo. O@@°.°°°°°°°°°°°°°°°°°°°°°°°
// °°°°°°°°°°°°°°°°°°°°°°°°..*OOo.ooooo°.oooo*°. °°°°°°°°° .*ooooooooooo° O@@#.°°°°°°°°°°°°°°°°°°°°°°°°
// °°°°°°°°°°°°°°°°°°°°°°°°°...*O.*oooo*.oooooo*.°°°°°°°°°.° *ooooooooo. .#@#..°°°°°°°°°°°°°°°°°°°°°°°°
// °°°°°°°°°°°°°°°°°°°°°°°°°°#o...°Ooooo.*oooooo.°°°°°°°°°.** *oooooo* °.*@O. °°°°°°°°°°°°°°°°°°°°°°°°°
// °°°°°°°°°°°°°°°°°°°°°°°°°.#@#o..*oooo.°oooooo°.°°°°°°°°.°o* *oooo. °°.#o...°°°°°°°°°°°°°°°°°°°°°°°°°
// °°°°°°°°°°°°°°°°°°°°°°°°°.O##@# ..°oO*.oooooo°.°°°°°°°°°.oo*.°o°..°°.°*.o.°°°°°°°°°°°°°°°°°°°°°°°°°°
// °°°°°°°°°°°°°°°°°°°°°°°°°.*@###°°°..°*.oooooo*.°°°°°°°°..ooo*. .°°°°. °O*.°°°°°°°°°°°°°°°°°°°°°°°°°°
// °°°°°°°°°°°°°°°°°°°°°°°°°°.###@*.*°°.. °oooooo.°°°°°°° ..*ooo*.°°°°° *OO.°°°°°°°°°°°°°°°°°°°°°°°°°°°
// °°°°°°°°°°°°°°°°°°°°°°°°°°.O##@O.°°°°°...°*ooo..°°°°..*O.°ooo..°°°. *OO*.°°°°°°°°°°°°°°°°°°°°°°°°°°°
// °°°°°°°°°°°°°°°°°°°°°°°°°°.*@#@#.°°°°°.°O°..°o*.°°..°oOO°°oo*.°°°...oO* °°°°°°°°°°°°°°°°°°°°°°°°°°°°
// °°°°°°°°°°°°°°°°°°°°°°°°°°°.#@#@°.°°°°°.##O*..... °oOOOO*.oo°.°° **°O° .°°°°°°°°°°°°°°°°°°°°°°°°°°°°
// °°°°°°°°°°°°°°°°°°°°°°°°°°°.°O@@o.°°°°°.o####o° .oOOOOOOo.*o.°..o#.*....°°°°°°°°°°°°°°°°°°°°°°°°°°°°
// °°°°°°°°°°°°°°°°°°°°°°°°°°°...*##.°°°°°.*######°*OOOOOOOO..*. °O#O .°*.°°°°°°°°°°°°°°°°°°°°°°°°°°°°°
// °°°°°°°°°°°°°°°°°°°°°°°°°°°°.o..O°°°°°°°.######*.OOOOOOOO°.. *###° *o°.°°°°°°°°°°°°°°°°°°°°°°°°°°°°°
// °°°°°°°°°°°°°°°°°°°°°°°°°°°°.*O*. .°°°°°.O#####O.OOOOOOOO°°°°###° *o° °°°°°°°°°°°°°°°°°°°°°°°°°°°°°°
// °°°°°°°°°°°°°°°°°°°°°°°°°°°°..OOO° .°°°°.o######.oOOOOOOO*..o#O. °o° °°°°°°°°°°°°°°°°°°°°°°°°°°°°°°°
// °°°°°°°°°°°°°°°°°°°°°°°°°°°°°.oOOO.°..°*.°######°°OOOOOOOO..#o °.°..°°°°°°°°°°°°°°°°°°°°°°°°°°°°°°°°
// °°°°°°°°°°°°°°°°°°°°°°°°°°°°°.°OoO°*O° .°.######o.OOOOOOO* .°.** ..°°°°°°°°°°°°°°°°°°°°°°°°°°°°°°°°°
// °°°°°°°°°°°°°°°°°°°°°°°°°°°°°°.oOO*.##o°. o#####O.oOOOOo.°° .oo..°°°°°°°°°°°°°°°°°°°°°°°°°°°°°°°°°°°
// °°°°°°°°°°°°°°°°°°°°°°°°°°°°°°..*OO.O###o..*#####.*OOO*.*#o.o*..°°°°°°°°°°°°°°°°°°°°°°°°°°°°°°°°°°°°
// °°°°°°°°°°°°°°°°°°°°°°°°°°°°°°°°..*°*####O.°.*O##°°OO°.o##O.° .°°°°°°°°°°°°°°°°°°°°°°°°°°°°°°°°°°°°°
// °°°°°°°°°°°°°°°°°°°°°°°°°°°°°°°°°°. .#####.#O°.°Oo.o.°#####. °°°°°°°°°°°°°°°°°°°°°°°°°°°°°°°°°°°°°°°
// °°°°°°°°°°°°°°°°°°°°°°°°°°°°°°°°°°°°.°O###°*@@#*....*######°.°°°°°°°°°°°°°°°°°°°°°°°°°°°°°°°°°°°°°°°
// °°°°°°°°°°°°°°°°°°°°°°°°°°°°°°°°°°°°°..*##o.##@@#o.*#######*.°°°°°°°°°°°°°°°°°°°°°°°°°°°°°°°°°°°°°°°
// °°°°°°°°°°°°°°°°°°°°°°°°°°°°°°°°°°°°°°°..o#.####@@o°#######O.°°°°°°°°°°°°°°°°°°°°°°°°°°°°°°°°°°°°°°°
// °°°°°°°°°°°°°°°°°°°°°°°°°°°°°°°°°°°°°°°°° °.o@#@##O.#######O.°°°°°°°°°°°°°°°°°°°°°°°°°°°°°°°°°°°°°°°
// °°°°°°°°°°°°°°°°°°°°°°°°°°°°°°°°°°°°°°°°°°° .#@##@#.O#####O..°°°°°°°°°°°°°°°°°°°°°°°°°°°°°°°°°°°°°°°
// °°°°°°°°°°°°°°°°°°°°°°°°°°°°°°°°°°°°°°°°°°°°..O@@##**####o .°°°°°°°°°°°°°°°°°°°°°°°°°°°°°°°°°°°°°°°°
// °°°°°°°°°°°°°°°°°°°°°°°°°°°°°°°°°°°°°°°°°°°°°° °O@@o.###* °°°°°°°°°°°°°°°°°°°°°°°°°°°°°°°°°°°°°°°°°°
// °°°°°°°°°°°°°°°°°°°°°°°°°°°°°°°°°°°°°°°°°°°°°°°..*##.O#° °°°°°°°°°°°°°°°°°°°°°°°°°°°°°°°°°°°°°°°°°°°
// °°°°°°°°°°°°°°°°°°°°°°°°°°°°°°°°°°°°°°°°°°°°°°°°°..o°*..°°°°°°°°°°°°°°°°°°°°°°°°°°°°°°°°°°°°°°°°°°°°
// °°°°°°°°°°°°°°°°°°°°°°°°°°°°°°°°°°°°°°°°°°°°°°°°°°°.. °°°°°°°°°°°°°°°°°°°°°°°°°°°°°°°°°°°°°°°°°°°°°°
// °°°°°°°°°°°°°°°°°°°°°°°°°°°°°°°°°°°°°°°°°°°°°°°°°°°°°°°°°°°°°°°°°°°°°°°°°°°°°°°°°°°°°°°°°°°°°°°°°°°°
//°°°°°°°°°°°°°°°°°°°°°°°°°°°°°°°°°°°°°°°  ____   __    ____  __  __ °°°°°°°°°°°°°°°°°°°°°°°°°°°°°°°°°°
//°°°°°°°°°°°°°°°°°°°°°°°°°°°°°°°°°°°°°°° (_  _) /__\  (  _ \(  )(  )°°°°°°°°°°°°°°°°°°°°°°°°°°°°°°°°°°
//°°°°°°°°°°°°°°°°°°°°°°°°°°°°°°°°°°°°°°°.-_)(  /(__)\  )(_) ))(__)( °°°°°°°°°°°°°°°°°°°°°°°°°°°°°°°°°°
//°°°°°°°°°°°°°°°°°°°°°°°°°°°°°°°°°°°°°°°\____)(__)(__)(____/(______)°°°°°°°°°°°°°°°°°°°°°°°°°°°°°°°°°°

// Contract by @backseats_eth

import "./ERC721A.sol";
import "./Ownable.sol";
import "./ERC2981.sol";

error ArrayMismatch();
error SupplyReached();
error SupplyExceeded();

contract JADU is ERC721A, ERC2981, Ownable {

  // 10,000 Speshies, 10,000 JADU
  uint public constant MAX_SUPPLY = 10_000;

  // The IPFS URI where our data can be found
  string public _baseTokenURI;

  // Constructor

  constructor() ERC721A("Coolman's Universe", "JADU") { }

  // Mint

  /**
  @notice Mint function that takes arrays of addresses and the amount of pieces each address should receive
  */
  function mint(address[] calldata _addresses, uint8[] calldata _counts) external onlyOwner {
    if (_addresses.length != _counts.length) revert ArrayMismatch();
    if (totalSupply() == MAX_SUPPLY) revert SupplyReached();

    // Ensure that the mint won't exceed max supply, outside of loop to save gas.
    // Also saves a bit of gas by not doing a doing a 0->1 calculation.
    uint16 count = 1;
    for (uint8 i; i < _counts.length; i++) {
      count += _counts[i];
    }
    if (count - 1 > MAX_SUPPLY) revert SupplyExceeded();

    for (uint8 i; i < _addresses.length; i++) {
      _mint(_addresses[i], _counts[i]);
    }
  }

  // Setters

  /**
  @notice Sets the contract-wide royalty info
  */
  function setRoyaltyInfo(address receiver, uint96 feeBasisPoints) external onlyOwner {
      _setDefaultRoyalty(receiver, feeBasisPoints);
  }

  /**
  @notice Sets the baseURI for the collection
  */
  function setBaseURI(string calldata _baseURI) external onlyOwner {
    _baseTokenURI = _baseURI;
  }

  // View Functions

  /**
  @notice Returns the baseURI of the collection
  */
  function _baseURI() internal view virtual override returns (string memory) {
    return _baseTokenURI;
  }

  /**
  @notice Boilerplate to support ERC721A and ERC2981
  */
  function supportsInterface(bytes4 interfaceId) public view override(ERC721A, ERC2981) returns (bool) {
    return super.supportsInterface(interfaceId);
  }

}
